<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://github.com/jsforce/jsforce">jsforce (v1.7.2)</a>
</h1>
<h4>Salesforce API Library for JavaScript</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce">module jsforce</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.cache">
            function <span class="apidocSignatureSpan">jsforce.</span>cache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date">
            function <span class="apidocSignatureSpan">jsforce.</span>date
            <span class="apidocSignatureSpan">(literal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api">
            function <span class="apidocSignatureSpan">jsforce.</span>http_api
            <span class="apidocSignatureSpan">(conn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger">
            function <span class="apidocSignatureSpan">jsforce.</span>logger
            <span class="apidocSignatureSpan">(logLevel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise">
            function <span class="apidocSignatureSpan">jsforce.</span>promise
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query">
            function <span class="apidocSignatureSpan">jsforce.</span>query
            <span class="apidocSignatureSpan">(conn, config, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.quick_action">
            function <span class="apidocSignatureSpan">jsforce.</span>quick_action
            <span class="apidocSignatureSpan">(conn, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record">
            function <span class="apidocSignatureSpan">jsforce.</span>record
            <span class="apidocSignatureSpan">(conn, type, id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream">
            function <span class="apidocSignatureSpan">jsforce.</span>record_stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap">
            function <span class="apidocSignatureSpan">jsforce.</span>soap
            <span class="apidocSignatureSpan">(conn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject">
            function <span class="apidocSignatureSpan">jsforce.</span>sobject
            <span class="apidocSignatureSpan">(conn, type)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>cache.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>canvas</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>csv</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>date.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>http_api.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>jsonp</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>logger.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>promise.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>query.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>quick_action.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>record.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>record_stream.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>soap.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>sobject.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.</span>soql_builder</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.cache">module jsforce.cache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.cache.cache">
            function <span class="apidocSignatureSpan">jsforce.</span>cache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.cache.prototype">module jsforce.cache.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.cache.prototype.clear">
            function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>clear
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.cache.prototype.get">
            function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>get
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.cache.prototype.makeCacheable">
            function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>makeCacheable
            <span class="apidocSignatureSpan">(fn, scope, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.cache.prototype.makeResponseCacheable">
            function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>makeResponseCacheable
            <span class="apidocSignatureSpan">(fn, scope, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.canvas">module jsforce.canvas</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jsforce.canvas.</span>supported</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.canvas.createRequest">
            function <span class="apidocSignatureSpan">jsforce.canvas.</span>createRequest
            <span class="apidocSignatureSpan">(signedRequest)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.csv">module jsforce.csv</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.csv.parseCSV">
            function <span class="apidocSignatureSpan">jsforce.csv.</span>parseCSV
            <span class="apidocSignatureSpan">(str, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.csv.parseCSVStream">
            function <span class="apidocSignatureSpan">jsforce.csv.</span>parseCSVStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.csv.serializeCSVStream">
            function <span class="apidocSignatureSpan">jsforce.csv.</span>serializeCSVStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.csv.toCSV">
            function <span class="apidocSignatureSpan">jsforce.csv.</span>toCSV
            <span class="apidocSignatureSpan">(records, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.date">module jsforce.date</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.date">
            function <span class="apidocSignatureSpan">jsforce.</span>date
            <span class="apidocSignatureSpan">(literal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_DAYS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_DAYS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_FISCAL_QUARTERS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_FISCAL_QUARTERS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_FISCAL_YEARS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_FISCAL_YEARS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_MONTHS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_MONTHS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_QUARTERS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_QUARTERS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_WEEKS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_WEEKS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.LAST_N_YEARS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_YEARS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_DAYS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_DAYS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_FISCAL_QUARTERS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_FISCAL_QUARTERS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_FISCAL_YEARS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_FISCAL_YEARS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_MONTHS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_MONTHS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_QUARTERS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_QUARTERS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_WEEKS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_WEEKS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.NEXT_N_YEARS">
            function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_YEARS
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.parseDate">
            function <span class="apidocSignatureSpan">jsforce.date.</span>parseDate
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.toDateLiteral">
            function <span class="apidocSignatureSpan">jsforce.date.</span>toDateLiteral
            <span class="apidocSignatureSpan">(date)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.toDateTimeLiteral">
            function <span class="apidocSignatureSpan">jsforce.date.</span>toDateTimeLiteral
            <span class="apidocSignatureSpan">(date)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_90_DAYS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_FISCAL_QUARTER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_FISCAL_YEAR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_MONTH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_QUARTER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_WEEK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>LAST_YEAR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_90_DAYS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_FISCAL_QUARTER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_FISCAL_YEAR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_MONTH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_QUARTER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_WEEK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_YEAR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>THIS_FISCAL_QUARTER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>THIS_FISCAL_YEAR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>THIS_MONTH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>THIS_QUARTER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>THIS_WEEK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>THIS_YEAR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>TODAY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>TOMORROW</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.date.</span>YESTERDAY</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.date.prototype">module jsforce.date.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.prototype.toJSON">
            function <span class="apidocSignatureSpan">jsforce.date.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.date.prototype.toString">
            function <span class="apidocSignatureSpan">jsforce.date.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.http_api">module jsforce.http_api</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.http_api">
            function <span class="apidocSignatureSpan">jsforce.</span>http_api
            <span class="apidocSignatureSpan">(conn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.SessionRefreshDelegate">
            function <span class="apidocSignatureSpan">jsforce.http_api.</span>SessionRefreshDelegate
            <span class="apidocSignatureSpan">(conn, refreshFn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.super_">
            function <span class="apidocSignatureSpan">jsforce.http_api.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.http_api.prototype">module jsforce.http_api.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.beforeSend">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>beforeSend
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.getError">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getError
            <span class="apidocSignatureSpan">(response, body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.getRefreshDelegate">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getRefreshDelegate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.getResponseBody">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getResponseBody
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.getResponseContentType">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getResponseContentType
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.hasErrorInResponseBody">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>hasErrorInResponseBody
            <span class="apidocSignatureSpan">(body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.isErrorResponse">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>isErrorResponse
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.isSessionExpired">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>isSessionExpired
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.parseError">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>parseError
            <span class="apidocSignatureSpan">(body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.parseResponseBody">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>parseResponseBody
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.http_api.prototype.request">
            function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>request
            <span class="apidocSignatureSpan">(request, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.jsonp">module jsforce.jsonp</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">jsforce.jsonp.</span>supported</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.jsonp.createRequest">
            function <span class="apidocSignatureSpan">jsforce.jsonp.</span>createRequest
            <span class="apidocSignatureSpan">(jsonpParam, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.logger">module jsforce.logger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.logger">
            function <span class="apidocSignatureSpan">jsforce.</span>logger
            <span class="apidocSignatureSpan">(logLevel)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.logger.</span>LogLevels</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.logger.prototype">module jsforce.logger.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.prototype.debug">
            function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>debug
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.prototype.error">
            function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>error
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.prototype.fatal">
            function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>fatal
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.prototype.info">
            function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>info
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.prototype.log">
            function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>log
            <span class="apidocSignatureSpan">(level, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.logger.prototype.warn">
            function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>warn
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.promise">module jsforce.promise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.promise">
            function <span class="apidocSignatureSpan">jsforce.</span>promise
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise._61">
            function <span class="apidocSignatureSpan">jsforce.promise.</span>_61
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.all">
            function <span class="apidocSignatureSpan">jsforce.promise.</span>all
            <span class="apidocSignatureSpan">(arr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.defer">
            function <span class="apidocSignatureSpan">jsforce.promise.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.race">
            function <span class="apidocSignatureSpan">jsforce.promise.</span>race
            <span class="apidocSignatureSpan">(values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.reject">
            function <span class="apidocSignatureSpan">jsforce.promise.</span>reject
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.resolve">
            function <span class="apidocSignatureSpan">jsforce.promise.</span>resolve
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.promise.</span>_10</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.promise.</span>_97</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.promise.prototype">module jsforce.promise.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.prototype.catch">
            function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>catch
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.prototype.fail">
            function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>fail
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.prototype.then">
            function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>then
            <span class="apidocSignatureSpan">(onFulfilled, onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.promise.prototype.thenCall">
            function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>thenCall
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.query">module jsforce.query</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.query">
            function <span class="apidocSignatureSpan">jsforce.</span>query
            <span class="apidocSignatureSpan">(conn, config, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.super_">
            function <span class="apidocSignatureSpan">jsforce.query.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.query.</span>ResponseTargets</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.query.prototype">module jsforce.query.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype._execute">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>_execute
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype._expandFields">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>_expandFields
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype._read">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>_read
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.addListener">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>addListener
            <span class="apidocSignatureSpan">(e, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.autoFetch">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>autoFetch
            <span class="apidocSignatureSpan">(autoFetch)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.del">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>del
            <span class="apidocSignatureSpan">(type, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.delete">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>delete
            <span class="apidocSignatureSpan">(type, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.destroy">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>destroy
            <span class="apidocSignatureSpan">(type, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.exec">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>exec
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.execute">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>execute
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.explain">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>explain
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.filter">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>filter
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.include">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>include
            <span class="apidocSignatureSpan">(childRelName, conditions, fields, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.limit">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>limit
            <span class="apidocSignatureSpan">(limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.map">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>map
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.maxFetch">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>maxFetch
            <span class="apidocSignatureSpan">(maxFetch)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.offset">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>offset
            <span class="apidocSignatureSpan">(offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.on">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>on
            <span class="apidocSignatureSpan">(e, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.orderby">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>orderby
            <span class="apidocSignatureSpan">(sort, dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.run">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>run
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.scanAll">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>scanAll
            <span class="apidocSignatureSpan">(scanAll)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.select">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>select
            <span class="apidocSignatureSpan">(fields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.setResponseTarget">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>setResponseTarget
            <span class="apidocSignatureSpan">(responseTarget)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.skip">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>skip
            <span class="apidocSignatureSpan">(offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.sort">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>sort
            <span class="apidocSignatureSpan">(sort, dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.stream">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>stream
            <span class="apidocSignatureSpan">(type, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.then">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>then
            <span class="apidocSignatureSpan">(onResolved, onReject)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.thenCall">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>thenCall
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.toSOQL">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>toSOQL
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.update">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>update
            <span class="apidocSignatureSpan">(mapping, type, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.query.prototype.where">
            function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>where
            <span class="apidocSignatureSpan">(conditions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.quick_action">module jsforce.quick_action</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.quick_action.quick_action">
            function <span class="apidocSignatureSpan">jsforce.</span>quick_action
            <span class="apidocSignatureSpan">(conn, path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.quick_action.prototype">module jsforce.quick_action.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.quick_action.prototype.defaultValues">
            function <span class="apidocSignatureSpan">jsforce.quick_action.prototype.</span>defaultValues
            <span class="apidocSignatureSpan">(contextId, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.quick_action.prototype.describe">
            function <span class="apidocSignatureSpan">jsforce.quick_action.prototype.</span>describe
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.quick_action.prototype.execute">
            function <span class="apidocSignatureSpan">jsforce.quick_action.prototype.</span>execute
            <span class="apidocSignatureSpan">(contextId, record, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.record">module jsforce.record</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.record">
            function <span class="apidocSignatureSpan">jsforce.</span>record
            <span class="apidocSignatureSpan">(conn, type, id)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.record.prototype">module jsforce.record.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.prototype.blob">
            function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>blob
            <span class="apidocSignatureSpan">(fieldName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.prototype.del">
            function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>del
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.prototype.delete">
            function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>delete
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.prototype.destroy">
            function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>destroy
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.prototype.retrieve">
            function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>retrieve
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record.prototype.update">
            function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>update
            <span class="apidocSignatureSpan">(record, options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.record_stream">module jsforce.record_stream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.record_stream">
            function <span class="apidocSignatureSpan">jsforce.</span>record_stream
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.Parsable">
            function <span class="apidocSignatureSpan">jsforce.record_stream.</span>Parsable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.Serializable">
            function <span class="apidocSignatureSpan">jsforce.record_stream.</span>Serializable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.filter">
            function <span class="apidocSignatureSpan">jsforce.record_stream.</span>filter
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.map">
            function <span class="apidocSignatureSpan">jsforce.record_stream.</span>map
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.recordMapStream">
            function <span class="apidocSignatureSpan">jsforce.record_stream.</span>recordMapStream
            <span class="apidocSignatureSpan">(record, noeval)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.super_">
            function <span class="apidocSignatureSpan">jsforce.record_stream.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsforce.record_stream.</span>DataStreamConverters</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.record_stream.prototype">module jsforce.record_stream.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.prototype._transform">
            function <span class="apidocSignatureSpan">jsforce.record_stream.prototype.</span>_transform
            <span class="apidocSignatureSpan">(record, enc, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.prototype.filter">
            function <span class="apidocSignatureSpan">jsforce.record_stream.prototype.</span>filter
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.record_stream.prototype.map">
            function <span class="apidocSignatureSpan">jsforce.record_stream.prototype.</span>map
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.soap">module jsforce.soap</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.soap">
            function <span class="apidocSignatureSpan">jsforce.</span>soap
            <span class="apidocSignatureSpan">(conn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.super_">
            function <span class="apidocSignatureSpan">jsforce.soap.</span>super_
            <span class="apidocSignatureSpan">(conn, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.soap.prototype">module jsforce.soap.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.prototype._createEnvelope">
            function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>_createEnvelope
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.prototype.beforeSend">
            function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>beforeSend
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.prototype.getResponseBody">
            function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>getResponseBody
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.prototype.invoke">
            function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>invoke
            <span class="apidocSignatureSpan">(method, args, schema, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.prototype.isSessionExpired">
            function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>isSessionExpired
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soap.prototype.parseError">
            function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>parseError
            <span class="apidocSignatureSpan">(body)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.sobject">module jsforce.sobject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.sobject">
            function <span class="apidocSignatureSpan">jsforce.</span>sobject
            <span class="apidocSignatureSpan">(conn, type)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.sobject.prototype">module jsforce.sobject.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.approvalLayouts">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>approvalLayouts
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.bulkload">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>bulkload
            <span class="apidocSignatureSpan">(operation, options, input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.compactLayouts">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>compactLayouts
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.count">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>count
            <span class="apidocSignatureSpan">(conditions, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.create">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>create
            <span class="apidocSignatureSpan">(records, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.createBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>createBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.del">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>del
            <span class="apidocSignatureSpan">(ids, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.delete">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>delete
            <span class="apidocSignatureSpan">(ids, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.deleteBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>deleteBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.deleteHardBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>deleteHardBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.deleted">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>deleted
            <span class="apidocSignatureSpan">(start, end, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.describe">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>describe
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.destroy">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>destroy
            <span class="apidocSignatureSpan">(ids, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.destroyBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>destroyBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.destroyHardBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>destroyHardBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.find">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>find
            <span class="apidocSignatureSpan">(conditions, fields, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.findOne">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>findOne
            <span class="apidocSignatureSpan">(conditions, fields, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.insert">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>insert
            <span class="apidocSignatureSpan">(records, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.insertBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>insertBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.layouts">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>layouts
            <span class="apidocSignatureSpan">(layoutName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.listview">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>listview
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.listviews">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>listviews
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.quickAction">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>quickAction
            <span class="apidocSignatureSpan">(actionName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.quickActions">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>quickActions
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.recent">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>recent
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.record">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>record
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.retrieve">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>retrieve
            <span class="apidocSignatureSpan">(ids, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.select">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>select
            <span class="apidocSignatureSpan">(fields, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.update">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>update
            <span class="apidocSignatureSpan">(records, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.updateBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>updateBulk
            <span class="apidocSignatureSpan">(input, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.updated">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>updated
            <span class="apidocSignatureSpan">(start, end, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.upsert">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>upsert
            <span class="apidocSignatureSpan">(records, extIdField, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.sobject.prototype.upsertBulk">
            function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>upsertBulk
            <span class="apidocSignatureSpan">(input, extIdField, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsforce.soql_builder">module jsforce.soql_builder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsforce.soql_builder.createSOQL">
            function <span class="apidocSignatureSpan">jsforce.soql_builder.</span>createSOQL
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce" id="apidoc.module.jsforce">module jsforce</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.cache" id="apidoc.element.jsforce.cache">
        function <span class="apidocSignatureSpan">jsforce.</span>cache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cache = function () {
  this._entries = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date" id="apidoc.element.jsforce.date">
        function <span class="apidocSignatureSpan">jsforce.</span>date
        <span class="apidocSignatureSpan">(literal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function (literal) {
  this._literal = literal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api" id="apidoc.element.jsforce.http_api">
        function <span class="apidocSignatureSpan">jsforce.</span>http_api
        <span class="apidocSignatureSpan">(conn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">http_api = function (conn, options) {
  options = options || {};
  this._conn = conn;
  this.on('resume', function(err) { conn.emit('resume', err); });
  this._responseType = options.responseType;
  this._transport = options.transport || conn._transport;
  this._noContentResponse = options.noContentResponse;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.logger" id="apidoc.element.jsforce.logger">
        function <span class="apidocSignatureSpan">jsforce.</span>logger
        <span class="apidocSignatureSpan">(logLevel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logger = function (logLevel) {
  if (typeof logLevel === 'string') {
    logLevel = LogLevels[logLevel];
  }
  if (!logLevel) {
    logLevel = LogLevels.INFO;
  }
  this._logLevel = logLevel;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise" id="apidoc.element.jsforce.promise">
        function <span class="apidocSignatureSpan">jsforce.</span>promise
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(fn) {
  if (typeof this !== 'object') {
    throw new TypeError('Promises must be constructed via new');
  }
  if (typeof fn !== 'function') {
    throw new TypeError('not a function');
  }
  this._45 = 0;
  this._81 = 0;
  this._65 = null;
  this._54 = null;
  if (fn === noop) return;
  doResolve(fn, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* http://promises-aplus.github.io/promises-spec/
*
* Delegate to deferred promise, return promise instance for batch result
*
* @method Chatter~Request#then
*/
Request.prototype.then = function(onResolve, onReject) {
 return this.<span class="apidocCodeKeywordSpan">promise</span>().then(onResolve, onReject);
};

/**
* Promise/A+ extension
* Call "then" using given node-style callback function
*
* @method Chatter~Request#thenCall
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query" id="apidoc.element.jsforce.query">
        function <span class="apidocSignatureSpan">jsforce.</span>query
        <span class="apidocSignatureSpan">(conn, config, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">query = function (conn, config, options) {
  Query.super_.call(this, { objectMode: true });

  this._conn = conn;
  if (_.isString(config)) { // if query config is string, it is given in SOQL.
    this._soql = config;
  } else if (config.locator &amp;&amp; config.locator.indexOf("/") &gt;= 0) { // if locator given in url for next records
    this._locator = config.locator.split("/").pop();
  } else {
    this._config = config;
    this.select(config.fields);
    if (config.includes) {
      this.include(config.includes);
    }
  }
  this._options = _.defaults({
    maxFetch: 10000,
    autoFetch: false,
    scanAll: false,
    responseTarget: ResponseTargets.QueryResult
  }, options || {});
  this._executed = false;
  this._finished = false;
  this._chaining = false;

  this._deferred = Promise.defer();

  var self = this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = -1;
async.waterfall([
  function(next) {
    conn.sobject(config.bigTable).count({}, next);
  },
  function(_count, next) {
    count = _count;
    conn.bulk.<span class="apidocCodeKeywordSpan">query</span>("SELECT Id, Name FROM " + config.bigTable)
      .on('record', function(rec) { records.push(rec); })
      .on('error', function(err) { next(err); })
      .stream().pipe(fstream)
      .on('finish', function() { next(null, records); });
  }
], function(err, records) {
  if (err) { throw err; }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.quick_action" id="apidoc.element.jsforce.quick_action">
        function <span class="apidocSignatureSpan">jsforce.</span>quick_action
        <span class="apidocSignatureSpan">(conn, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">quick_action = function (conn, path) {
  this._conn = conn;
  this._path = path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record" id="apidoc.element.jsforce.record">
        function <span class="apidocSignatureSpan">jsforce.</span>record
        <span class="apidocSignatureSpan">(conn, type, id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">record = function (conn, type, id) {
  this._conn = conn;
  this.type = type;
  this.id = id;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });

  /**
   *
   */
  describe("update account", function() {
it("should update successfully", function(done) {
  conn.sobject('Account').<span class="apidocCodeKeywordSpan">record</span>(account.Id).update({ Name : "Hello2&amp;#
x22; }, function(err, ret) {
    if (err) { throw err; }
    assert.ok(ret.success);
  }.check(done));
});

describe("then retrieve the account", function() {
  it("should return updated account object", function(done) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream" id="apidoc.element.jsforce.record_stream">
        function <span class="apidocSignatureSpan">jsforce.</span>record_stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">record_stream = function () {
  RecordStream.super_.call(this, { objectMode: true });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap" id="apidoc.element.jsforce.soap">
        function <span class="apidocSignatureSpan">jsforce.</span>soap
        <span class="apidocSignatureSpan">(conn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">soap = function (conn, options) {
  SOAP.super_.apply(this, arguments);
  this._endpointUrl = options.endpointUrl;
  this._xmlns = options.xmlns || 'urn:partner.soap.sforce.com';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject" id="apidoc.element.jsforce.sobject">
        function <span class="apidocSignatureSpan">jsforce.</span>sobject
        <span class="apidocSignatureSpan">(conn, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sobject = function (conn, type) {
  this._conn = conn;
  this.type = type;
  var cacheOptions = { key: "describe." + this.type };
  this.describe$ = conn.cache.makeCacheable(this.describe, this, cacheOptions);
  this.describe = conn.cache.makeResponseCacheable(this.describe, this, cacheOptions);

  cacheOptions = { key: "layouts." + this.type };
  this.layouts$ = conn.cache.makeCacheable(this.layouts, this, cacheOptions);
  this.layouts = conn.cache.makeResponseCacheable(this.layouts, this, cacheOptions);

  cacheOptions = { key: "compactLayouts." + this.type };
  this.compactLayouts$ = conn.cache.makeCacheable(this.compactLayouts, this, cacheOptions);
  this.compactLayouts = conn.cache.makeResponseCacheable(this.compactLayouts, this, cacheOptions);

  cacheOptions = { key: "approvalLayouts." + this.type };
  this.approvalLayouts$ = conn.cache.makeCacheable(this.approvalLayouts, this, cacheOptions);
  this.approvalLayouts = conn.cache.makeResponseCacheable(this.approvalLayouts, this, cacheOptions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Channel.prototype.push = function(events, callback) {
var isArray = _.isArray(events);
events = isArray ? events : [ events ];
var conn = this._streaming._conn;
if (!this._id) {
  this._id = conn.<span class="apidocCodeKeywordSpan">sobject</span>('StreamingChannel').findOne({ Name: this._name }, &amp;#
x27;Id')
    .then(function(rec) { return rec.Id });
}
return this._id.then(function(id) {
  var channelUrl = '/sobjects/StreamingChannel/' + id + '/push';
  return conn.requestPost(channelUrl, { pushEvents: events });
}).then(function(rets) {
  return isArray ? rets : rets[0];
...</pre></li>
    </ul>
































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.cache" id="apidoc.module.jsforce.cache">module jsforce.cache</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.cache.cache" id="apidoc.element.jsforce.cache.cache">
        function <span class="apidocSignatureSpan">jsforce.</span>cache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cache = function () {
  this._entries = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.cache.prototype" id="apidoc.module.jsforce.cache.prototype">module jsforce.cache.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.cache.prototype.clear" id="apidoc.element.jsforce.cache.prototype.clear">
        function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>clear
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function (key) {
  for (var k in this._entries) {
    if (!key || k.indexOf(key) === 0) {
      this._entries[k].clear();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Initialize tooling API
 * @protected
 */
Tooling.prototype.initialize = function() {
  this.sobjects = {};
  this.cache.<span class="apidocCodeKeywordSpan">clear</span>();
  this.cache.get('describeGlobal').on('value', _.bind(function(res) {
    if (res.result) {
      var types = _.map(res.result.sobjects, function(so) { return so.name; });
      types.forEach(this.sobject, this);
    }
  }, this));
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.cache.prototype.get" id="apidoc.element.jsforce.cache.prototype.get">
        function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>get
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key) {
  if (key &amp;&amp; this._entries[key]) {
    return this._entries[key];
  } else {
    var entry = new CacheEntry();
    this._entries[key] = entry;
    return entry;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  },

  getConnectionTypes: function() {
    return Transport.getConnectionTypes();
  },

  selectTransport: function(transportTypes) {
    Transport.<span class="apidocCodeKeywordSpan">get</span>(this, transportTypes, this._disabled, function(transport) {
this.debug('Selected ? transport for ?', transport.connectionType, URI.stringify(transport.endpoint));

if (transport === this._transport) return;
if (this._transport) this._transport.close();

this._transport = transport;
this.connectionType = transport.connectionType;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.cache.prototype.makeCacheable" id="apidoc.element.jsforce.cache.prototype.makeCacheable">
        function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>makeCacheable
        <span class="apidocSignatureSpan">(fn, scope, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeCacheable = function (fn, scope, options) {
  var cache = this;
  options = options || {};
  var $fn = function() {
    var args = Array.prototype.slice.apply(arguments);
    var callback = args.pop();
    if (!_.isFunction(callback)) {
      args.push(callback);
    }
    var key = _.isString(options.key) ? options.key :
              _.isFunction(options.key) ? options.key.apply(scope, args) :
              createCacheKey(options.namespace, args);
    var entry = cache.get(key);
    if (!_.isFunction(callback)) { // if callback is not given in last arg, return cached result (immediate).
      var value = entry.get();
      if (!value) { throw new Error('Function call result is not cached yet.'); }
      if (value.error) { throw value.error; }
      return value.result;
    }
    entry.get(function(value) {
      callback(value.error, value.result);
    });
    if (!entry.fetching) { // only when no other client is calling function
      entry.fetching = true;
      args.push(function(err, result) {
        entry.set({ error: err, result: result });
      });
      fn.apply(scope || this, args);
    }
  };
  $fn.clear = function() {
    var key = _.isString(options.key) ? options.key :
              _.isFunction(options.key) ? options.key.apply(scope, arguments) :
              createCacheKey(options.namespace, arguments);
    cache.clear(key);
  };
  return $fn;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}, this);

this.cache = new Cache();

var cacheOptions = {
  key: function(type) { return type ? "describe." + type : "describe"; }
};
this.describe$ = this.cache.<span class="apidocCodeKeywordSpan">makeCacheable</span>(this.describe, this, cacheOptions);
this.describe = this.cache.makeResponseCacheable(this.describe, this, cacheOptions);
this.describeSObject$ = this.describe$;
this.describeSObject = this.describe;

cacheOptions = { key: 'describeGlobal' };
this.describeGlobal$ = this.cache.makeCacheable(this.describeGlobal, this, cacheOptions);
this.describeGlobal = this.cache.makeResponseCacheable(this.describeGlobal, this, cacheOptions);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.cache.prototype.makeResponseCacheable" id="apidoc.element.jsforce.cache.prototype.makeResponseCacheable">
        function <span class="apidocSignatureSpan">jsforce.cache.prototype.</span>makeResponseCacheable
        <span class="apidocSignatureSpan">(fn, scope, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeResponseCacheable = function (fn, scope, options) {
  var cache = this;
  options = options || {};
  return function() {
    var args = Array.prototype.slice.apply(arguments);
    var callback = args.pop();
    if (!_.isFunction(callback)) {
      args.push(callback);
      callback = null;
    }
    var key = _.isString(options.key) ? options.key :
              _.isFunction(options.key) ? options.key.apply(scope, args) :
              createCacheKey(options.namespace, args);
    var entry = cache.get(key);
    entry.fetching = true;
    if (callback) {
      args.push(function(err, result) {
        entry.set({ error: err, result: result });
        callback(err, result);
      });
    }
    var ret, error;
    try {
      ret = fn.apply(scope || this, args);
    } catch(e) {
      error = e;
    }
    if (ret &amp;&amp; _.isFunction(ret.then)) { // if the returned value is promise
      if (!callback) {
        return ret.then(function(result) {
          entry.set({ error: undefined, result: result });
          return result;
        }, function(err) {
          entry.set({ error: err, result: undefined });
          throw err;
        });
      } else {
        return ret;
      }
    } else {
      entry.set({ error: error, result: ret });
      if (error) { throw error; }
      return ret;
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this.cache = new Cache();

var cacheOptions = {
  key: function(type) { return type ? "describe." + type : "describe"; }
};
this.describe$ = this.cache.makeCacheable(this.describe, this, cacheOptions);
this.describe = this.cache.<span class="apidocCodeKeywordSpan">makeResponseCacheable</span>(this.describe, this, cacheOptions);
this.describeSObject$ = this.describe$;
this.describeSObject = this.describe;

cacheOptions = { key: 'describeGlobal' };
this.describeGlobal$ = this.cache.makeCacheable(this.describeGlobal, this, cacheOptions);
this.describeGlobal = this.cache.makeResponseCacheable(this.describeGlobal, this, cacheOptions);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.canvas" id="apidoc.module.jsforce.canvas">module jsforce.canvas</a></h1>




    <h2>
        <a href="#apidoc.element.jsforce.canvas.createRequest" id="apidoc.element.jsforce.canvas.createRequest">
        function <span class="apidocSignatureSpan">jsforce.canvas.</span>createRequest
        <span class="apidocSignatureSpan">(signedRequest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createRequest = function (signedRequest) {
  return function(params, callback) {
    var response;
    var str = new Duplex();
    str._read = function(size) {
      if (response) {
        str.push(response.body);
      }
    };
    var bufs = [];
    var sent = false;
    str._write = function(chunk, encoding, callback) {
      bufs.push(chunk.toString(encoding));
      callback();
    };
    str.on('finish', function() {
      if (!sent) {
        send(bufs.join(''));
        sent = true;
      }
    });
    if (params.body || params.body === "" || !/^(put|post|patch)$/i.test(params.method)) {
      send(params.body);
      sent = true;
    }

    function send(body) {
      var settings = {
        client: signedRequest.client,
        method: params.method,
        data: body
      };
      if (params.headers) {
        settings.headers = {};
        for (var name in params.headers) {
          if (name.toLowerCase() === 'content-type') {
            settings.contentType = params.headers[name];
          } else {
            settings.headers[name] = params.headers[name];
          }
        }
      }
      settings.success = function(data) {
        var headers = parseHeaders(data.responseHeaders);
        var body = data.payload;
        if (!_.isString(body)) {
          body = JSON.stringify(body);
        }
        response = {
          statusCode : data.status,
          headers: headers,
          body: body
        };
        if (callback) {
          callback(null, response, response.body);
        }
        str.end();
      };
      settings.failure = function(err) {
        if (callback) {
          callback(err);
        }
      };
      Sfdc.canvas.client.ajax(params.url, settings);
    }
    return str;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 this._jsonpParam = jsonpParam;
};

inherits(JsonpTransport, Transport);

/** @protected **/
JsonpTransport.prototype._getHttpRequestModule = function() {
 return jsonp.<span class="apidocCodeKeywordSpan">createRequest</span>(this._jsonpParam);
};

JsonpTransport.supported = jsonp.supported;


/**
* Class for Sfdc Canvas request transport
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.csv" id="apidoc.module.jsforce.csv">module jsforce.csv</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.csv.parseCSV" id="apidoc.element.jsforce.csv.parseCSV">
        function <span class="apidocSignatureSpan">jsforce.csv.</span>parseCSV
        <span class="apidocSignatureSpan">(str, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseCSV(str, options) {
  options = _.extend({}, options, { columns: true });
  return csvParseSync(str, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  if (ret.error) { throw ret.error; }
  return ret.result;
}

/** @private */
function parseCSV(str) {
  return require('./csv').<span class="apidocCodeKeywordSpan">parseCSV</span>(str);
}

/** @private */
function parseText(str) { return str; }


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.csv.parseCSVStream" id="apidoc.element.jsforce.csv.parseCSVStream">
        function <span class="apidocSignatureSpan">jsforce.csv.</span>parseCSVStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseCSVStream(options) {
  options = _.extend({}, options, { columns: true });
  return csvParse(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      RecordStream.map(function(record) {
        return convertRecordForSerialization(record, options);
      }),
      CSV.serializeCSVStream(options)
    );
  },
  parse: function(options) {
    return CSV.<span class="apidocCodeKeywordSpan">parseCSVStream</span>(options);
  }
};

/**
 * @private
 */
var DataStreamConverters = RecordStream.DataStreamConverters = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.csv.serializeCSVStream" id="apidoc.element.jsforce.csv.serializeCSVStream">
        function <span class="apidocSignatureSpan">jsforce.csv.</span>serializeCSVStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function serializeCSVStream(options) {
  options = _.extend({}, options, { header: true });
  return csvStringify(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var CSVStreamConverter = {
  serialize: function(options) {
    options = options || {};
    return createPipelineStream(
      RecordStream.map(function(record) {
        return convertRecordForSerialization(record, options);
      }),
      CSV.<span class="apidocCodeKeywordSpan">serializeCSVStream</span>(options)
    );
  },
  parse: function(options) {
    return CSV.parseCSVStream(options);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.csv.toCSV" id="apidoc.element.jsforce.csv.toCSV">
        function <span class="apidocSignatureSpan">jsforce.csv.</span>toCSV
        <span class="apidocSignatureSpan">(records, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toCSV(records, options) {
  options = _.extend({}, options, { header: true });
  return csvStringifySync(records, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.date" id="apidoc.module.jsforce.date">module jsforce.date</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.date.date" id="apidoc.element.jsforce.date.date">
        function <span class="apidocSignatureSpan">jsforce.</span>date
        <span class="apidocSignatureSpan">(literal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function (literal) {
  this._literal = literal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_DAYS" id="apidoc.element.jsforce.date.LAST_N_DAYS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_DAYS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_DAYS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 */
describe("Query with Date field for date literal", function() {
  var soql = SOQLBuilder.createSOQL({
    table: "Opportunity",
    conditions: {
      $and : [
        { CloseDate: { $gte : SfDate.<span class="apidocCodeKeywordSpan">LAST_N_DAYS</span>(10) } },
        { CloseDate: { $lte : SfDate.TOMORROW } },
        { CloseDate: { $gt : SfDate.toDateLiteral(new Date(1288958400000)) }},
        { CreatedDate: { $lt : SfDate.toDateTimeLiteral('2010-11-02T04:45:04+09:00') }}
      ]
    }
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_FISCAL_QUARTERS" id="apidoc.element.jsforce.date.LAST_N_FISCAL_QUARTERS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_FISCAL_QUARTERS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_FISCAL_QUARTERS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_FISCAL_YEARS" id="apidoc.element.jsforce.date.LAST_N_FISCAL_YEARS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_FISCAL_YEARS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_FISCAL_YEARS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_MONTHS" id="apidoc.element.jsforce.date.LAST_N_MONTHS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_MONTHS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_MONTHS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_QUARTERS" id="apidoc.element.jsforce.date.LAST_N_QUARTERS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_QUARTERS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_QUARTERS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_WEEKS" id="apidoc.element.jsforce.date.LAST_N_WEEKS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_WEEKS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_WEEKS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.LAST_N_YEARS" id="apidoc.element.jsforce.date.LAST_N_YEARS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>LAST_N_YEARS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">LAST_N_YEARS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_DAYS" id="apidoc.element.jsforce.date.NEXT_N_DAYS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_DAYS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_DAYS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_FISCAL_QUARTERS" id="apidoc.element.jsforce.date.NEXT_N_FISCAL_QUARTERS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_FISCAL_QUARTERS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_FISCAL_QUARTERS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_FISCAL_YEARS" id="apidoc.element.jsforce.date.NEXT_N_FISCAL_YEARS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_FISCAL_YEARS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_FISCAL_YEARS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_MONTHS" id="apidoc.element.jsforce.date.NEXT_N_MONTHS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_MONTHS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_MONTHS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_QUARTERS" id="apidoc.element.jsforce.date.NEXT_N_QUARTERS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_QUARTERS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_QUARTERS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_WEEKS" id="apidoc.element.jsforce.date.NEXT_N_WEEKS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_WEEKS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_WEEKS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.NEXT_N_YEARS" id="apidoc.element.jsforce.date.NEXT_N_YEARS">
        function <span class="apidocSignatureSpan">jsforce.date.</span>NEXT_N_YEARS
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NEXT_N_YEARS = function (num) { return new SfDate(literal + ":" + num); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.parseDate" id="apidoc.element.jsforce.date.parseDate">
        function <span class="apidocSignatureSpan">jsforce.date.</span>parseDate
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseDate = function (str) {
  var d = new Date();
  var regexp = /^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/;
  var m = str.match(regexp);
  if (m) {
    d = new Date(0);
    if (!m[4]) {
      d.setFullYear(parseInt(m[1], 10));
      d.setDate(parseInt(m[3], 10));
      d.setMonth(parseInt(m[2], 10) - 1);
      d.setHours(0);
      d.setMinutes(0);
      d.setSeconds(0);
      d.setMilliseconds(0);
    } else {
      d.setUTCFullYear(parseInt(m[1], 10));
      d.setUTCDate(parseInt(m[3], 10));
      d.setUTCMonth(parseInt(m[2], 10) - 1);
      d.setUTCHours(parseInt(m[5], 10));
      d.setUTCMinutes(parseInt(m[6], 10));
      d.setUTCSeconds(parseInt(m[7], 10));
      d.setUTCMilliseconds(parseInt(m[9] || '0', 10));
      if (m[10] &amp;&amp; m[10] !== 'Z') {
        var offset = parseInt(m[12],10) * 60 + parseInt(m[13], 10);
        d.setTime((m[11] === '+' ? -1 : 1) * offset * 60 * 1000 +d.getTime());
      }
    }
    return d;
  } else {
    throw new Error("Invalid date format is specified : " + str);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {String|Number|Date} date - Input date
 * @returns {SfDate} - Salesforce date literal with ISO8601 date format
 */
SfDate.toDateLiteral = function(date) {
  if (_.isNumber(date)) {
    date = new Date(date);
  } else if (_.isString(date)) {
    date = SfDate.<span class="apidocCodeKeywordSpan">parseDate</span>(date);
  }
  var yy = date.getFullYear();
  var mm = date.getMonth()+1;
  var dd = date.getDate();
  var dstr = [ yy, zeropad(mm), zeropad(dd) ].join("-");
  return new SfDate(dstr);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.toDateLiteral" id="apidoc.element.jsforce.date.toDateLiteral">
        function <span class="apidocSignatureSpan">jsforce.date.</span>toDateLiteral
        <span class="apidocSignatureSpan">(date)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toDateLiteral = function (date) {
  if (_.isNumber(date)) {
    date = new Date(date);
  } else if (_.isString(date)) {
    date = SfDate.parseDate(date);
  }
  var yy = date.getFullYear();
  var mm = date.getMonth()+1;
  var dd = date.getDate();
  var dstr = [ yy, zeropad(mm), zeropad(dd) ].join("-");
  return new SfDate(dstr);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  describe("Query with Date field for date literal", function() {
var soql = SOQLBuilder.createSOQL({
  table: "Opportunity",
  conditions: {
    $and : [
      { CloseDate: { $gte : SfDate.LAST_N_DAYS(10) } },
      { CloseDate: { $lte : SfDate.TOMORROW } },
      { CloseDate: { $gt : SfDate.<span class="apidocCodeKeywordSpan">toDateLiteral</span>(new Date(1288958400000)) }},
      { CreatedDate: { $lt : SfDate.toDateTimeLiteral('2010-11-02T04:45:04+09:00') }}
    ]
  }
});

it("should equal to soql", function() {
  assert.ok(soql ===
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.toDateTimeLiteral" id="apidoc.element.jsforce.date.toDateTimeLiteral">
        function <span class="apidocSignatureSpan">jsforce.date.</span>toDateTimeLiteral
        <span class="apidocSignatureSpan">(date)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toDateTimeLiteral = function (date) {
  if (_.isNumber(date)) {
    date = new Date(date);
  } else if (_.isString(date)) {
    date = SfDate.parseDate(date);
  }
  var yy = date.getUTCFullYear();
  var mm = date.getUTCMonth()+1;
  var dd = date.getUTCDate();
  var hh = date.getUTCHours();
  var mi = date.getUTCMinutes();
  var ss = date.getUTCSeconds();
  var dtstr =
    [ yy, zeropad(mm), zeropad(dd) ].join("-") + "T" +
    [ zeropad(hh), zeropad(mi), zeropad(ss) ].join(":") + "Z";
  return new SfDate(dtstr);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var soql = SOQLBuilder.createSOQL({
  table: "Opportunity",
  conditions: {
    $and : [
      { CloseDate: { $gte : SfDate.LAST_N_DAYS(10) } },
      { CloseDate: { $lte : SfDate.TOMORROW } },
      { CloseDate: { $gt : SfDate.toDateLiteral(new Date(1288958400000)) }},
      { CreatedDate: { $lt : SfDate.<span class="apidocCodeKeywordSpan">toDateTimeLiteral</span>('2010-11-02T04:45:04+09:00
') }}
    ]
  }
});

it("should equal to soql", function() {
  assert.ok(soql ===
    "SELECT Id FROM Opportunity " +
...</pre></li>
    </ul>
















































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.date.prototype" id="apidoc.module.jsforce.date.prototype">module jsforce.date.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.date.prototype.toJSON" id="apidoc.element.jsforce.date.prototype.toJSON">
        function <span class="apidocSignatureSpan">jsforce.date.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () { return this._literal; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.date.prototype.toString" id="apidoc.element.jsforce.date.prototype.toString">
        function <span class="apidocSignatureSpan">jsforce.date.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () { return this._literal; }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var deferred = Promise.defer();
if (_.isObject(zipInput) &amp;&amp; _.isFunction(zipInput.pipe)) {
  var bufs = [];
  zipInput.on('data', function(d) {
    bufs.push(d);
  });
  zipInput.on('end', function() {
    deferred.resolve(Buffer.concat(bufs).<span class="apidocCodeKeywordSpan">toString</span>('base64'));
  });
  // zipInput.resume();
} else if (zipInput instanceof Buffer) {
  deferred.resolve(zipInput.toString('base64'));
} else if (zipInput instanceof String || typeof zipInput === 'string') {
  deferred.resolve(zipInput);
} else {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.http_api" id="apidoc.module.jsforce.http_api">module jsforce.http_api</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.http_api.http_api" id="apidoc.element.jsforce.http_api.http_api">
        function <span class="apidocSignatureSpan">jsforce.</span>http_api
        <span class="apidocSignatureSpan">(conn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">http_api = function (conn, options) {
  options = options || {};
  this._conn = conn;
  this.on('resume', function(err) { conn.emit('resume', err); });
  this._responseType = options.responseType;
  this._transport = options.transport || conn._transport;
  this._noContentResponse = options.noContentResponse;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.SessionRefreshDelegate" id="apidoc.element.jsforce.http_api.SessionRefreshDelegate">
        function <span class="apidocSignatureSpan">jsforce.http_api.</span>SessionRefreshDelegate
        <span class="apidocSignatureSpan">(conn, refreshFn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SessionRefreshDelegate = function (conn, refreshFn) {
  this._conn = conn;
  this._refreshFn = refreshFn;
  this._refreshing = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Allow to delegate connection refresh to outer function
var self = this;
var refreshFn = options.refreshFn;
if (!refreshFn &amp;&amp; this.oauth2.clientId &amp;&amp; this.oauth2.clientSecret) {
  refreshFn = oauthRefreshFn;
}
if (refreshFn) {
  this._refreshDelegate = new HttpApi.<span class="apidocCodeKeywordSpan">SessionRefreshDelegate</span>(this, refreshFn);
}

var cacheOptions = {
  key: function(type) { return type ? "describe." + type : "describe"; }
};
this.describe$ = this.cache.makeCacheable(this.describe, this, cacheOptions);
this.describe = this.cache.makeResponseCacheable(this.describe, this, cacheOptions);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.super_" id="apidoc.element.jsforce.http_api.super_">
        function <span class="apidocSignatureSpan">jsforce.http_api.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.http_api.prototype" id="apidoc.module.jsforce.http_api.prototype">module jsforce.http_api.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.beforeSend" id="apidoc.element.jsforce.http_api.prototype.beforeSend">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>beforeSend
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeSend = function (request) {
  request.headers = request.headers || {};
  if (this._conn.accessToken) {
    request.headers.Authorization = "Bearer " + this._conn.accessToken;
  }
  if (this._conn.callOptions) {
    var callOptions = [];
    for (var name in this._conn.callOptions) {
      callOptions.push(name + "=" + this._conn.callOptions[name]);
    }
    request.headers["Sforce-Call-Options"] = callOptions.join(', ');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (refreshDelegate &amp;&amp; refreshDelegate._refreshing) {
  refreshDelegate.once('resume', onResume);
  return deferred.promise.thenCall(callback);
}

// hook before sending
self.<span class="apidocCodeKeywordSpan">beforeSend</span>(request);

self.emit('request', request);
logger.debug("&lt;request&gt; method=" + request.method + ", url=" + request.url);
var requestTime = Date.now();

return this._transport.httpRequest(request).then(function(response) {
  var responseTime = Date.now();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.getError" id="apidoc.element.jsforce.http_api.prototype.getError">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getError
        <span class="apidocSignatureSpan">(response, body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getError = function (response, body) {
  var error;
  try {
    error = this.parseError(body || this.parseResponseBody(response));
  } catch(e) {}
  error = _.isObject(error) &amp;&amp; _.isString(error.message) ? error : {
    errorCode: 'ERROR_HTTP_' + response.statusCode,
    message : response.body
  };
  var err = new Error(error.message);
  err.name = error.errorCode;
  for (var key in error) { err[key] = error[key]; }
  return err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Refresh token if session has been expired and requires authentication
  // when session refresh delegate is available
  if (self.isSessionExpired(response) &amp;&amp; refreshDelegate) {
    refreshDelegate.refresh(requestTime, onResume);
    return deferred.promise;
  }
  if (self.isErrorResponse(response)) {
    var err = self.<span class="apidocCodeKeywordSpan">getError</span>(response);
    throw err;
  }
  return self.getResponseBody(response);
}, function(err) {
  var responseTime = Date.now();
  logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
  logger.error(err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.getRefreshDelegate" id="apidoc.element.jsforce.http_api.prototype.getRefreshDelegate">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getRefreshDelegate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getRefreshDelegate = function () {
  return this._conn._refreshDelegate;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {Callback.&lt;Object&gt;} callback - Callback function
 * @returns {Promise.&lt;Object&gt;} -
 */
HttpApi.prototype.request = function(request, callback) {
var self = this;
var conn = this._conn;
var logger = conn._logger;
var refreshDelegate = this.<span class="apidocCodeKeywordSpan">getRefreshDelegate</span>();
// remember previous instance url in case it changes after a refresh
var lastInstanceUrl = conn.instanceUrl;

var deferred = Promise.defer();

var onResume = function(err) {
  if (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.getResponseBody" id="apidoc.element.jsforce.http_api.prototype.getResponseBody">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getResponseBody
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getResponseBody = function (response) {
  if (response.statusCode === 204) { // No Content
    return this._noContentResponse;
  }
  var body = this.parseResponseBody(response);
  var err;
  if (this.hasErrorInResponseBody(body)) {
    err = this.getError(response, body);
    throw err;
  }
  if (response.statusCode === 300) { // Multiple Choices
    err = new Error('Multiple records found');
    err.name = "MULTIPLE_CHOICES";
    err.content = body;
    throw err;
  }
  return body;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    refreshDelegate.refresh(requestTime, onResume);
    return deferred.promise;
  }
  if (self.isErrorResponse(response)) {
    var err = self.getError(response);
    throw err;
  }
  return self.<span class="apidocCodeKeywordSpan">getResponseBody</span>(response);
}, function(err) {
  var responseTime = Date.now();
  logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
  logger.error(err);
  throw err;
})
.thenCall(callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.getResponseContentType" id="apidoc.element.jsforce.http_api.prototype.getResponseContentType">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>getResponseContentType
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getResponseContentType = function (response) {
  return this._responseType || response.headers &amp;&amp; response.headers["content-type"];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this._responseType || response.headers &amp;&amp; response.headers["content-type"];
};

/**
 *
 */
HttpApi.prototype.parseResponseBody = function(response) {
var contentType = this.<span class="apidocCodeKeywordSpan">getResponseContentType</span>(response);
var parseBody = /^(text|application)\/xml(;|$)/.test(contentType) ? parseXML :
       /^application\/json(;|$)/.test(contentType) ? parseJSON :
       /^text\/csv(;|$)/.test(contentType) ? parseCSV :
       parseText;
try {
  return parseBody(response.body);
} catch(e) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.hasErrorInResponseBody" id="apidoc.element.jsforce.http_api.prototype.hasErrorInResponseBody">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>hasErrorInResponseBody
        <span class="apidocSignatureSpan">(body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasErrorInResponseBody = function (body) {
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
HttpApi.prototype.getResponseBody = function(response) {
if (response.statusCode === 204) { // No Content
  return this._noContentResponse;
}
var body = this.parseResponseBody(response);
var err;
if (this.<span class="apidocCodeKeywordSpan">hasErrorInResponseBody</span>(body)) {
  err = this.getError(response, body);
  throw err;
}
if (response.statusCode === 300) { // Multiple Choices
  err = new Error('Multiple records found');
  err.name = "MULTIPLE_CHOICES";
  err.content = body;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.isErrorResponse" id="apidoc.element.jsforce.http_api.prototype.isErrorResponse">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>isErrorResponse
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isErrorResponse = function (response) {
  return response.statusCode &gt;= 400;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  self.emit('response', response);
  // Refresh token if session has been expired and requires authentication
  // when session refresh delegate is available
  if (self.isSessionExpired(response) &amp;&amp; refreshDelegate) {
    refreshDelegate.refresh(requestTime, onResume);
    return deferred.promise;
  }
  if (self.<span class="apidocCodeKeywordSpan">isErrorResponse</span>(response)) {
    var err = self.getError(response);
    throw err;
  }
  return self.getResponseBody(response);
}, function(err) {
  var responseTime = Date.now();
  logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.isSessionExpired" id="apidoc.element.jsforce.http_api.prototype.isSessionExpired">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>isSessionExpired
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSessionExpired = function (response) {
  return response.statusCode === 401;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var responseTime = Date.now();
logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
logger.debug("&lt;response&gt; status=" + response.statusCode + ", url=" + request.url);

self.emit('response', response);
// Refresh token if session has been expired and requires authentication
// when session refresh delegate is available
if (self.<span class="apidocCodeKeywordSpan">isSessionExpired</span>(response) &amp;&amp; refreshDelegate) {
  refreshDelegate.refresh(requestTime, onResume);
  return deferred.promise;
}
if (self.isErrorResponse(response)) {
  var err = self.getError(response);
  throw err;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.parseError" id="apidoc.element.jsforce.http_api.prototype.parseError">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>parseError
        <span class="apidocSignatureSpan">(body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseError = function (body) {
  var errors = body;
  return _.isArray(errors) ? errors[0] : errors;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Get error message in response
 * @protected
 */
HttpApi.prototype.getError = function(response, body) {
var error;
try {
  error = this.<span class="apidocCodeKeywordSpan">parseError</span>(body || this.parseResponseBody(response));
} catch(e) {}
error = _.isObject(error) &amp;&amp; _.isString(error.message) ? error : {
  errorCode: 'ERROR_HTTP_' + response.statusCode,
  message : response.body
};
var err = new Error(error.message);
err.name = error.errorCode;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.parseResponseBody" id="apidoc.element.jsforce.http_api.prototype.parseResponseBody">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>parseResponseBody
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseResponseBody = function (response) {
  var contentType = this.getResponseContentType(response);
  var parseBody = /^(text|application)\/xml(;|$)/.test(contentType) ? parseXML :
         /^application\/json(;|$)/.test(contentType) ? parseJSON :
         /^text\/csv(;|$)/.test(contentType) ? parseCSV :
         parseText;
  try {
    return parseBody(response.body);
  } catch(e) {
    return response.body;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Get response body
 * @protected
 */
HttpApi.prototype.getResponseBody = function(response) {
if (response.statusCode === 204) { // No Content
  return this._noContentResponse;
}
var body = this.<span class="apidocCodeKeywordSpan">parseResponseBody</span>(response);
var err;
if (this.hasErrorInResponseBody(body)) {
  err = this.getError(response, body);
  throw err;
}
if (response.statusCode === 300) { // Multiple Choices
  err = new Error('Multiple records found');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.http_api.prototype.request" id="apidoc.element.jsforce.http_api.prototype.request">
        function <span class="apidocSignatureSpan">jsforce.http_api.prototype.</span>request
        <span class="apidocSignatureSpan">(request, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (request, callback) {
  var self = this;
  var conn = this._conn;
  var logger = conn._logger;
  var refreshDelegate = this.getRefreshDelegate();
  // remember previous instance url in case it changes after a refresh
  var lastInstanceUrl = conn.instanceUrl;

  var deferred = Promise.defer();

  var onResume = function(err) {
    if (err) {
      deferred.reject(err);
      return;
    }
    // check to see if the token refresh has changed the instance url
    if(lastInstanceUrl !== conn.instanceUrl){
      // if the instance url has changed
      // then replace the current request urls instance url fragment
      // with the updated instance url
      request.url = request.url.replace(lastInstanceUrl,conn.instanceUrl);
    }

    self.request(request).then(function(response) {
      deferred.resolve(response);
    }, function(err) {
      deferred.reject(err);
    });
  };

  if (refreshDelegate &amp;&amp; refreshDelegate._refreshing) {
    refreshDelegate.once('resume', onResume);
    return deferred.promise.thenCall(callback);
  }

  // hook before sending
  self.beforeSend(request);

  self.emit('request', request);
  logger.debug("&lt;request&gt; method=" + request.method + ", url=" + request.url);
  var requestTime = Date.now();

  return this._transport.httpRequest(request).then(function(response) {
    var responseTime = Date.now();
    logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
    logger.debug("&lt;response&gt; status=" + response.statusCode + ", url=" + request.url);

    self.emit('response', response);
    // Refresh token if session has been expired and requires authentication
    // when session refresh delegate is available
    if (self.isSessionExpired(response) &amp;&amp; refreshDelegate) {
      refreshDelegate.refresh(requestTime, onResume);
      return deferred.promise;
    }
    if (self.isErrorResponse(response)) {
      var err = self.getError(response);
      throw err;
    }
    return self.getResponseBody(response);
  }, function(err) {
    var responseTime = Date.now();
    logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
    logger.error(err);
    throw err;
  })
  .thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {Callback.&lt;Analytics~ReportResult&gt;} [callback] - Callback function
* @returns {Promise.&lt;Analytics~ReportResult&gt;}
*/
ReportInstance.prototype.retrieve = function(callback) {
 var conn = this._conn,
     report = this._report;
 var url = [ conn._baseUrl(), "analytics", "reports", report.id, "instances", this.id ].join('
;/');
 return conn.<span class="apidocCodeKeywordSpan">request</span>(url).thenCall(callback);
};

/**
* Report object in Analytics API
*
* @protected
* @class Analytics~Report
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.jsonp" id="apidoc.module.jsforce.jsonp">module jsforce.jsonp</a></h1>




    <h2>
        <a href="#apidoc.element.jsforce.jsonp.createRequest" id="apidoc.element.jsforce.jsonp.createRequest">
        function <span class="apidocSignatureSpan">jsforce.jsonp.</span>createRequest
        <span class="apidocSignatureSpan">(jsonpParam, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createRequest = function (jsonpParam, timeout) {
  jsonpParam = jsonpParam || 'callback';
  timeout = timeout || 10000;

  return function(params, callback) {
    if (params.method.toUpperCase() !== 'GET') {
      return callback(new Error('JSONP only supports GET request.'));
    }
    var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);
    var callbacks = window;
    var url = params.url;
    url += url.indexOf('?')&gt;0 ? '&amp;' : '?';
    url += jsonpParam + '=' + cbFuncName;

    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = url;
    document.documentElement.appendChild(script);

    var pid = setTimeout(function() {
      cleanup();
      callback(new Error("JSONP call time out."));
    }, timeout);

    callbacks[cbFuncName] = function(res) {
      cleanup();
      callback(null, {
        statusCode: 200,
        headers: { "content-type": "application/json" },
        body: JSON.stringify(res)
      });
    };

    var cleanup = function() {
      clearTimeout(pid);
      document.documentElement.removeChild(script);
      delete callbacks[cbFuncName];
    };
  };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 this._jsonpParam = jsonpParam;
};

inherits(JsonpTransport, Transport);

/** @protected **/
JsonpTransport.prototype._getHttpRequestModule = function() {
 return jsonp.<span class="apidocCodeKeywordSpan">createRequest</span>(this._jsonpParam);
};

JsonpTransport.supported = jsonp.supported;


/**
* Class for Sfdc Canvas request transport
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.logger" id="apidoc.module.jsforce.logger">module jsforce.logger</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.logger.logger" id="apidoc.element.jsforce.logger.logger">
        function <span class="apidocSignatureSpan">jsforce.</span>logger
        <span class="apidocSignatureSpan">(logLevel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logger = function (logLevel) {
  if (typeof logLevel === 'string') {
    logLevel = LogLevels[logLevel];
  }
  if (!logLevel) {
    logLevel = LogLevels.INFO;
  }
  this._logLevel = logLevel;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.logger.prototype" id="apidoc.module.jsforce.logger.prototype">module jsforce.logger.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.logger.prototype.debug" id="apidoc.element.jsforce.logger.prototype.debug">
        function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>debug
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (message) { this.log(level, message); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._jobInfo = this._waitAssign().then(function() {
  return bulk._request({
    method : 'GET',
    path : "/job/" + self.id,
    responseType: "application/xml"
  });
}).then(function(res) {
  logger.<span class="apidocCodeKeywordSpan">debug</span>(res.jobInfo);
  self.id = res.jobInfo.id;
  self.type = res.jobInfo.object;
  self.operation = res.jobInfo.operation;
  self.state = res.jobInfo.state;
  return res.jobInfo;
});
return this._jobInfo.thenCall(callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.logger.prototype.error" id="apidoc.element.jsforce.logger.prototype.error">
        function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>error
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (message) { this.log(level, message); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    "url": "git://github.com/jsforce/jsforce.git"
  },
  "scripts": {
    "build": "gulp build",
    "build:all": "gulp build:all",
    "build:test": "gulp build:test",
    "doc": "jsdoc lib -d doc --recurse --lenient",
    "prepublish": "node -e \"if(process.env.npm_package_version!==require('./lib/VERSION')){console
.<span class="apidocCodeKeywordSpan">error</span>('The pacakge.json version is not matching to ./lib/VERSION.js');process
.exit(1)}\"",
    "test": "npm run test:node",
    "test:all": "npm run test:node &amp;&amp; npm run test:browser",
    "test:browser": "testem",
    "test:node": "./test/bin/run-test"
  },
  "version": "1.7.2"
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.logger.prototype.fatal" id="apidoc.element.jsforce.logger.prototype.fatal">
        function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>fatal
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function (message) { this.log(level, message); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.logger.prototype.info" id="apidoc.element.jsforce.logger.prototype.info">
        function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>info
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (message) { this.log(level, message); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var job = this.job;
var batchId = this.id;

if (!jobId || !batchId) {
  throw new Error("Batch not started.");
}

return job.<span class="apidocCodeKeywordSpan">info</span>().then(function(jobInfo) {
  return bulk._request({
    method : 'GET',
    path : "/job/" + jobId + "/batch/" + batchId + "/result"
  });
}).then(function(res) {
  var results;
  if (job.operation === 'query') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.logger.prototype.log" id="apidoc.element.jsforce.logger.prototype.log">
        function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>log
        <span class="apidocSignatureSpan">(level, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (level, message) {
  if (this._logLevel &lt;= level) {
    if (level &lt; LogLevels.ERROR) {
      console.log(message);
    } else {
      console.error(message);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

value = Math.abs(value)

if (isNaN(value) || value === Infinity) {
  m = isNaN(value) ? 1 : 0
  e = eMax
} else {
  e = Math.floor(Math.<span class="apidocCodeKeywordSpan">log</span>(value) / Math.LN2)
  if (value * (c = Math.pow(2, -e)) &lt; 1) {
    e--
    c *= 2
  }
  if (e + eBias &gt;= 1) {
    value += rt / c
  } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.logger.prototype.warn" id="apidoc.element.jsforce.logger.prototype.warn">
        function <span class="apidocSignatureSpan">jsforce.logger.prototype.</span>warn
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (message) { this.log(level, message); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else if (keys.length &gt; 1) {
      proxy = env[name];
    }
    proxy = proxy || env['CGI_' + upcase];
  } else {
    proxy = env[name] || env[upcase];
    if (proxy &amp;&amp; !env[name])
      console.<span class="apidocCodeKeywordSpan">warn</span>('The environment variable ' + upcase +
                   ' is discouraged. Use ' + name + '.');
  }
  return proxy;
}

}), {
get: function(dispatcher, allowed, disabled, callback, context) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.promise" id="apidoc.module.jsforce.promise">module jsforce.promise</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.promise.promise" id="apidoc.element.jsforce.promise.promise">
        function <span class="apidocSignatureSpan">jsforce.</span>promise
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(fn) {
  if (typeof this !== 'object') {
    throw new TypeError('Promises must be constructed via new');
  }
  if (typeof fn !== 'function') {
    throw new TypeError('not a function');
  }
  this._45 = 0;
  this._81 = 0;
  this._65 = null;
  this._54 = null;
  if (fn === noop) return;
  doResolve(fn, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* http://promises-aplus.github.io/promises-spec/
*
* Delegate to deferred promise, return promise instance for batch result
*
* @method Chatter~Request#then
*/
Request.prototype.then = function(onResolve, onReject) {
 return this.<span class="apidocCodeKeywordSpan">promise</span>().then(onResolve, onReject);
};

/**
* Promise/A+ extension
* Call "then" using given node-style callback function
*
* @method Chatter~Request#thenCall
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise._61" id="apidoc.element.jsforce.promise._61">
        function <span class="apidocSignatureSpan">jsforce.promise.</span>_61
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function noop() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.all" id="apidoc.element.jsforce.promise.all">
        function <span class="apidocSignatureSpan">jsforce.promise.</span>all
        <span class="apidocSignatureSpan">(arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">all = function (arr) {
  var args = Array.prototype.slice.call(arr);

  return new Promise(function (resolve, reject) {
    if (args.length === 0) return resolve([]);
    var remaining = args.length;
    function res(i, val) {
      if (val &amp;&amp; (typeof val === 'object' || typeof val === 'function')) {
        if (val instanceof Promise &amp;&amp; val.then === Promise.prototype.then) {
          while (val._81 === 3) {
            val = val._65;
          }
          if (val._81 === 1) return res(i, val._65);
          if (val._81 === 2) reject(val._65);
          val.then(function (val) {
            res(i, val);
          }, reject);
          return;
        } else {
          var then = val.then;
          if (typeof then === 'function') {
            var p = new Promise(then.bind(val));
            p.then(function (val) {
              res(i, val);
            }, reject);
            return;
          }
        }
      }
      args[i] = val;
      if (--remaining === 0) {
        resolve(args);
      }
    }
    for (var i = 0; i &lt; args.length; i++) {
      res(i, args[i]);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
options = options || {};
var self = this;
var isArray = _.isArray(ids);
ids = isArray ? ids : [ ids ];
if (ids.length &gt; self.maxRequest) {
  return Promise.reject(new Error("Exceeded max limit of concurrent call")).thenCall(callback);
}
return Promise.<span class="apidocCodeKeywordSpan">all</span>(
  _.map(ids, function(id) {
    if (!id) { return Promise.reject(new Error('Invalid record ID. Specify valid record ID value')).thenCall(callback); }
    var url = [ self._baseUrl(), "sobjects", type, id ].join('/');
    return self.request({ method: 'GET', url: url, headers: options.headers });
  })
).then(function(results) {
  return !isArray &amp;&amp; _.isArray(results) ? results[0] : results;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.defer" id="apidoc.element.jsforce.promise.defer">
        function <span class="apidocSignatureSpan">jsforce.promise.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defer = function () {
  return new Deferred();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {String} [batchId] - Batch ID (if already available)
 */
var Batch = function(job, batchId) {
  Batch.super_.call(this, { objectMode: true });
  this.job = job;
  this.id = batchId;
  this._bulk = job._bulk;
  this._deferred = Promise.<span class="apidocCodeKeywordSpan">defer</span>();
  this._setupDataStreams();
};

inherits(Batch, stream.Writable);


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.race" id="apidoc.element.jsforce.promise.race">
        function <span class="apidocSignatureSpan">jsforce.promise.</span>race
        <span class="apidocSignatureSpan">(values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function (values) {
  return new Promise(function (resolve, reject) {
    values.forEach(function(value){
      Promise.resolve(value).then(resolve, reject);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.reject" id="apidoc.element.jsforce.promise.reject">
        function <span class="apidocSignatureSpan">jsforce.promise.</span>reject
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (value) {
  return new Promise(function (resolve, reject) {
    reject(value);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

var rdeferred = Promise.defer();
this._result = rdeferred.promise;
this._result.then(function(res) {
  self._deferred.resolve(res);
}, function(err) {
  self._deferred.<span class="apidocCodeKeywordSpan">reject</span>(err);
});
this.once('response', function(res) {
  rdeferred.resolve(res);
});
this.once('error', function(err) {
  rdeferred.reject(err);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.resolve" id="apidoc.element.jsforce.promise.resolve">
        function <span class="apidocSignatureSpan">jsforce.promise.</span>resolve
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve = function (value) {
  if (value instanceof Promise) return value;

  if (value === null) return NULL;
  if (value === undefined) return UNDEFINED;
  if (value === true) return TRUE;
  if (value === false) return FALSE;
  if (value === 0) return ZERO;
  if (value === '') return EMPTYSTRING;

  if (typeof value === 'object' || typeof value === 'function') {
    try {
      var then = value.then;
      if (typeof then === 'function') {
        return new Promise(then.bind(value));
      }
    } catch (ex) {
      return new Promise(function (resolve, reject) {
        reject(ex);
      });
    }
  }
  return valuePromise(value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Wait till the job is assigned to server
*
* @method Bulk~Job#info
* @param {Callback.&lt;Bulk~JobInfo&gt;} [callback] - Callback function
* @returns {Promise.&lt;Bulk~JobInfo&gt;}
*/
Job.prototype._waitAssign = function(callback) {
 return (this.id ? Promise.<span class="apidocCodeKeywordSpan">resolve</span>({ id: this.id }) : this.open()).thenCall(callback);
};


/**
* List all registered batch info in job
*
* @method Bulk~Job#list
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.promise.prototype" id="apidoc.module.jsforce.promise.prototype">module jsforce.promise.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.promise.prototype.catch" id="apidoc.element.jsforce.promise.prototype.catch">
        function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>catch
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function (onRejected) {
  return this.then(null, onRejected);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var rets = rrets[0], statusField = rrets[1];
    leadIds = rets.map(function(r){ return r.id; });
    convertedStatus = statusField.picklist.picklistValues
      .filter(function(pv){ return pv.converted === 'true'; })
      .map(function(pv){ return pv.fullName; })[0];
    done();
  })
  .<span class="apidocCodeKeywordSpan">catch</span>(done);
});

it("should convert lead", function(done) {
  conn.soap.convertLead({
    leadId: leadIds[0],
    convertedStatus: convertedStatus
  }, function(err, ret) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.prototype.fail" id="apidoc.element.jsforce.promise.prototype.fail">
        function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>fail
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fail = function (onRejected) {
  return this.then(null, onRejected);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
         success: ret.Success === "true",
         errors: ret.Error ? [ ret.Error ] : []
       };
     });
   }
   self.emit('response', results);
   return results;
 }).<span class="apidocCodeKeywordSpan">fail</span>(function(err) {
   self.emit('error', err);
   throw err;
 }).thenCall(callback);
};

/**
* Fetch query result as a record stream
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.prototype.then" id="apidoc.element.jsforce.promise.prototype.then">
        function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>then
        <span class="apidocSignatureSpan">(onFulfilled, onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (onFulfilled, onRejected) {
  if (this.constructor !== Promise) {
    return safeThen(this, onFulfilled, onRejected);
  }
  var res = new Promise(noop);
  handle(this, new Handler(onFulfilled, onRejected, res));
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  method : 'POST',
  path : "/job",
  body : body,
  headers : {
    "Content-Type" : "application/xml; charset=utf-8"
  },
  responseType: "application/xml"
}).<span class="apidocCodeKeywordSpan">then</span>(function(res) {
  self.emit("open", res.jobInfo);
  self.id = res.jobInfo.id;
  self.state = res.jobInfo.state;
  return res.jobInfo;
}, function(err) {
  self.emit("error", err);
  throw err;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.promise.prototype.thenCall" id="apidoc.element.jsforce.promise.prototype.thenCall">
        function <span class="apidocSignatureSpan">jsforce.promise.prototype.</span>thenCall
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenCall = function (callback) {
  if (_.isFunction(callback)) {
    this.then(function(res) {
      process.nextTick(function() {
        callback(null, res);
      });
    }, function(err) {
      process.nextTick(function() {
        callback(err);
      });
    });
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {Callback.&lt;Analytics~ReportResult&gt;} [callback] - Callback function
* @returns {Promise.&lt;Analytics~ReportResult&gt;}
*/
ReportInstance.prototype.retrieve = function(callback) {
 var conn = this._conn,
     report = this._report;
 var url = [ conn._baseUrl(), "analytics", "reports", report.id, "instances", this.id ].join('
;/');
 return conn.request(url).<span class="apidocCodeKeywordSpan">thenCall</span>(callback);
};

/**
* Report object in Analytics API
*
* @protected
* @class Analytics~Report
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.query" id="apidoc.module.jsforce.query">module jsforce.query</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.query.query" id="apidoc.element.jsforce.query.query">
        function <span class="apidocSignatureSpan">jsforce.</span>query
        <span class="apidocSignatureSpan">(conn, config, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">query = function (conn, config, options) {
  Query.super_.call(this, { objectMode: true });

  this._conn = conn;
  if (_.isString(config)) { // if query config is string, it is given in SOQL.
    this._soql = config;
  } else if (config.locator &amp;&amp; config.locator.indexOf("/") &gt;= 0) { // if locator given in url for next records
    this._locator = config.locator.split("/").pop();
  } else {
    this._config = config;
    this.select(config.fields);
    if (config.includes) {
      this.include(config.includes);
    }
  }
  this._options = _.defaults({
    maxFetch: 10000,
    autoFetch: false,
    scanAll: false,
    responseTarget: ResponseTargets.QueryResult
  }, options || {});
  this._executed = false;
  this._finished = false;
  this._chaining = false;

  this._deferred = Promise.defer();

  var self = this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = -1;
async.waterfall([
  function(next) {
    conn.sobject(config.bigTable).count({}, next);
  },
  function(_count, next) {
    count = _count;
    conn.bulk.<span class="apidocCodeKeywordSpan">query</span>("SELECT Id, Name FROM " + config.bigTable)
      .on('record', function(rec) { records.push(rec); })
      .on('error', function(err) { next(err); })
      .stream().pipe(fstream)
      .on('finish', function() { next(null, records); });
  }
], function(err, records) {
  if (err) { throw err; }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.super_" id="apidoc.element.jsforce.query.super_">
        function <span class="apidocSignatureSpan">jsforce.query.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Readable(options) {
  Duplex = Duplex || require('./_stream_duplex');

  if (!(this instanceof Readable)) return new Readable(options);

  this._readableState = new ReadableState(options, this);

  // legacy
  this.readable = true;

  if (options &amp;&amp; typeof options.read === 'function') this._read = options.read;

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.query.prototype" id="apidoc.module.jsforce.query.prototype">module jsforce.query.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.query.prototype._execute" id="apidoc.element.jsforce.query.prototype._execute">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>_execute
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_execute = function (options) {
  var self = this;
  var logger = this._conn._logger;
  var responseTarget = options.responseTarget;
  var autoFetch = options.autoFetch;
  var maxFetch = options.maxFetch;
  var scanAll = options.scanAll;

  return Promise.resolve(
    self._locator ?
    self._conn._baseUrl() + "/query/" + self._locator :
    self.toSOQL().then(function(soql) {
      self.totalFetched = 0;
      logger.debug("SOQL = " + soql);
      return self._conn._baseUrl() + "/" + (scanAll ? "queryAll" : "query") + "?q=" + encodeURIComponent(soql);
    })
  ).then(function(url) {
    return self._conn.request({
      method: 'GET',
      url: url,
      headers: options.headers
    });
  }).then(function(data) {
    self.emit("fetch");
    self.totalSize = data.totalSize;
    var res;
    switch(responseTarget) {
      case ResponseTargets.SingleRecord:
        res = data.records &amp;&amp; data.records.length &gt; 0 ? data.records[0] : null;
        break;
      case ResponseTargets.Records:
        res = data.records;
        break;
      case ResponseTargets.Count:
        res = data.totalSize;
        break;
      default:
        res = data;
    }
    // only fire response event when it should be notified per fetch
    if (responseTarget !== ResponseTargets.Records) {
      self.emit("response", res, self);
    }

    // streaming record instances
    var numRecords = (data.records &amp;&amp; data.records.length) || 0;
    for (var i=0; i&lt;numRecords; i++) {
      if (self.totalFetched &gt;= maxFetch) {
        self._finished = true;
        break;
      }
      var record = data.records[i];
      self.push(record);
      self.emit('record', record, self.totalFetched++, self);
    }
    if (data.nextRecordsUrl) {
      self._locator = data.nextRecordsUrl.split('/').pop();
    }
    self._finished = self._finished || data.done || !autoFetch;
    if (self._finished) {
      self.push(null);
    } else {
      self._execute(options);
    }
    return res;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

// flag to prevent re-execution
this._executed = true;

// start actual query
logger.debug('&gt;&gt;&gt; Query start &gt;&gt;&gt;');
this.<span class="apidocCodeKeywordSpan">_execute</span>(options).then(function() {
  logger.debug('*** Query finished ***');
}).fail(function(err) {
  logger.debug('--- Query error ---');
  self.emit('error', err);
});

// return Query instance for chaining
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype._expandFields" id="apidoc.element.jsforce.query.prototype._expandFields">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>_expandFields
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_expandFields = function () {
  if (this._soql) {
    return Promise.reject(new Error("Cannot expand fields for the query which has already built SOQL."));
  }
  var self = this;
  var logger = self._conn._logger;
  var conn = this._conn;
  var table = this._config.table;
  var fields = this._config.fields || [];

  logger.debug('_expandFields: table = ' + table + ', fields = ' + fields.join(', '));

  return Promise.all([
    Promise.resolve(self._parent ? findRelationTable(table) : table)
      .then(function(table) {
        return Promise.all(
          _.map(fields, function(field) { return expandAsteriskField(table, field); })
        ).then(function(expandedFields) {
          self._config.fields = _.flatten(expandedFields);
        });
      }),
    Promise.all(
      _.map(self._children || [], function(childQuery) {
        return childQuery._expandFields();
      })
    )
  ]);

  function findRelationTable(rname) {
    var ptable = self._parent._config.table;
    logger.debug('finding table for relation "' + rname + '" in "' + ptable + '"...');
    return describeCache(ptable).then(function(sobject) {
      var upperRname = rname.toUpperCase();
      var childRelation = _.find(sobject.childRelationships, function(cr) {
        return (cr.relationshipName || '').toUpperCase() === upperRname;
      });
      return childRelation ? childRelation.childSObject :
        Promise.reject(new Error("No child relationship found: " + rname ));
    });
  }

  function describeCache(table) {
    logger.debug('describe cache: '+table);
    var deferred = Promise.defer();
    conn.describe$(table, function(err, sobject) {
      logger.debug('... done.');
      if (err) { deferred.reject(err); }
      else { deferred.resolve(sobject); }
    });
    return deferred.promise;
  }

  function expandAsteriskField(table, field) {
    logger.debug('expanding field "'+ field + '" in "' + table + '"...');
    var fpath = field.split('.');
    return fpath[fpath.length - 1] === '*' ?
      describeCache(table).then(function(sobject) {
        logger.debug('table '+table+'has been described');
        if (fpath.length &gt; 1) {
          var rname = fpath.shift();
          var rfield = _.find(sobject.fields, function(f) {
            return f.relationshipName &amp;&amp;
                   f.relationshipName.toUpperCase() === rname.toUpperCase();
          });
          if (rfield) {
            var rtable = rfield.referenceTo.length === 1 ? rfield.referenceTo[0] : 'Name';
            return expandAsteriskField(rtable, fpath.join('.')).then(function(fpaths) {
              return _.map(fpaths, function(fpath) { return rname + '.' + fpath; });
            });
          } else {
            return [];
          }
        } else {
          return _.map(sobject.fields, function(f) { return f.name; });
        }
      }) :
      Promise.resolve([ field ]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        _.map(fields, function(field) { return expandAsteriskField(table, field); })
      ).then(function(expandedFields) {
        self._config.fields = _.flatten(expandedFields);
      });
    }),
  Promise.all(
    _.map(self._children || [], function(childQuery) {
      return childQuery.<span class="apidocCodeKeywordSpan">_expandFields</span>();
    })
  )
]);

function findRelationTable(rname) {
  var ptable = self._parent._config.table;
  logger.debug('finding table for relation "' + rname + '" in "' + ptable + '"...&amp;#
x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype._read" id="apidoc.element.jsforce.query.prototype._read">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>_read
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_read = function (size) {
  if (!this._finished &amp;&amp; !this._executed) {
    this.execute({ autoFetch: true });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.addListener" id="apidoc.element.jsforce.query.prototype.addListener">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>addListener
        <span class="apidocSignatureSpan">(e, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (e, fn) {
  if (e === 'record') {
    var self = this;
    this.on('readable', function() {
      while(self.read() !== null) {} // discard buffered records
    });
  }
  return Query.super_.prototype.on.call(this, e, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.autoFetch" id="apidoc.element.jsforce.query.prototype.autoFetch">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>autoFetch
        <span class="apidocSignatureSpan">(autoFetch)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">autoFetch = function (autoFetch) {
  this._options.autoFetch = autoFetch;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.del" id="apidoc.element.jsforce.query.prototype.del">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>del
        <span class="apidocSignatureSpan">(type, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">del = function (type, callback) {
  if (typeof type === 'function') {
    callback = type;
    type = null;
  }
  type = type || (this._config &amp;&amp; this._config.table);
  if (!type) {
    throw new Error("SOQL based query needs SObject type information to bulk delete.");
  }
  var batch = this._conn.sobject(type).deleteBulk();
  var deferred = Promise.defer();
  var handleError = function(err) {
    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
    else { deferred.reject(err); }
  };
  this.on('error', handleError)
    .pipe(batch)
    .on('response', function(res) { deferred.resolve(res); })
    .on('error', handleError);
  return deferred.promise.thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.delete" id="apidoc.element.jsforce.query.prototype.delete">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>delete
        <span class="apidocSignatureSpan">(type, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (type, callback) {
  if (typeof type === 'function') {
    callback = type;
    type = null;
  }
  type = type || (this._config &amp;&amp; this._config.table);
  if (!type) {
    throw new Error("SOQL based query needs SObject type information to bulk delete.");
  }
  var batch = this._conn.sobject(type).deleteBulk();
  var deferred = Promise.defer();
  var handleError = function(err) {
    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
    else { deferred.reject(err); }
  };
  this.on('error', handleError)
    .pipe(batch)
    .on('response', function(res) { deferred.resolve(res); })
    .on('error', handleError);
  return deferred.promise.thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 *
 */
describe("delete account info", function() {
  it("should not get any account for delete account id", function(done) {
    async.waterfall([
      function(cb) {
        conn.apex.<span class="apidocCodeKeywordSpan">delete</span>('/JSforceTestApexRest/' + accountId, cb);
      },
      function(ret, cb) {
        conn.sobject('Account').find({ Id: accountId }, cb);
      }
    ], function(err, records) {
      if (err) { throw err; }
      assert.ok(records.length === 0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.destroy" id="apidoc.element.jsforce.query.prototype.destroy">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>destroy
        <span class="apidocSignatureSpan">(type, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (type, callback) {
  if (typeof type === 'function') {
    callback = type;
    type = null;
  }
  type = type || (this._config &amp;&amp; this._config.table);
  if (!type) {
    throw new Error("SOQL based query needs SObject type information to bulk delete.");
  }
  var batch = this._conn.sobject(type).deleteBulk();
  var deferred = Promise.defer();
  var handleError = function(err) {
    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
    else { deferred.reject(err); }
  };
  this.on('error', handleError)
    .pipe(batch)
    .on('response', function(res) { deferred.resolve(res); })
    .on('error', handleError);
  return deferred.promise.thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @returns {Promise.&lt;RecordResult&gt;}
*/
RecordReference.prototype.destroy = function(options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 return this._conn.<span class="apidocCodeKeywordSpan">destroy</span>(this.type, this.id, options, callback);
};

/**
* Get blob field as stream
*
* @param {String} fieldName - Blob field name
* @returns {stream.Stream}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.exec" id="apidoc.element.jsforce.query.prototype.exec">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>exec
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (options, callback) {
  var self = this;
  var logger = this._conn._logger;
  var deferred = this._deferred;

  if (this._executed) {
    deferred.reject(new Error("re-executing already executed query"));
    return this;
  }

  if (this._finished) {
    deferred.reject(new Error("executing already closed query"));
    return this;
  }

  if (typeof options === "function") {
    callback = options;
    options = {};
  }
  options = options || {};
  options = {
    headers: options.headers || self._options.headers,
    responseTarget: options.responseTarget || self._options.responseTarget,
    autoFetch: options.autoFetch || self._options.autoFetch,
    maxFetch: options.maxFetch || self._options.maxFetch,
    scanAll: options.scanAll || self._options.scanAll
  };

  // callback and promise resolution;
  var promiseCallback = function(err, res) {
    if (_.isFunction(callback)) {
      try {
        res = callback(err, res);
        err = null;
      } catch(e) {
        err = e;
      }
    }
    if (err) {
      deferred.reject(err);
    } else {
      deferred.resolve(res);
    }
  };
  this.once('response', function(res) {
    promiseCallback(null, res);
  });
  this.once('error', function(err) {
    promiseCallback(err);
  });

  // collect fetched records in array
  // only when response target is Records and
  // either callback or chaining promises are available to this query.
  this.once('fetch', function() {
    if (options.responseTarget === ResponseTargets.Records &amp;&amp; (self._chaining || callback)) {
      logger.debug('--- collecting all fetched records ---');
      var records = [];
      var onRecord = function(record) {
        records.push(record);
      };
      self.on('record', onRecord);
      self.once('end', function() {
        self.removeListener('record', onRecord);
        self.emit('response', records, self);
      });
    }
  });

  // flag to prevent re-execution
  this._executed = true;

  // start actual query
  logger.debug('&gt;&gt;&gt; Query start &gt;&gt;&gt;');
  this._execute(options).then(function() {
    logger.debug('*** Query finished ***');
  }).fail(function(err) {
    logger.debug('--- Query error ---');
    self.emit('error', err);
  });

  // return Query instance for chaining
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    mapped[prop] = noeval ? record[prop] : evalMapping(record[prop], rec);
  }
  return mapped;
});

function evalMapping(value, mapping) {
  if (_.isString(value)) {
    var m = /^\$\{(\w+)\}$/.<span class="apidocCodeKeywordSpan">exec</span>(value);
    if (m) { return mapping[m[1]]; }
    return value.replace(/\$\{(\w+)\}/g, function($0, prop) {
      var v = mapping[prop];
      return _.isNull(v) || _.isUndefined(v) ? "" : String(v);
    });
  } else {
    return value;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.execute" id="apidoc.element.jsforce.query.prototype.execute">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>execute
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">execute = function (options, callback) {
  var self = this;
  var logger = this._conn._logger;
  var deferred = this._deferred;

  if (this._executed) {
    deferred.reject(new Error("re-executing already executed query"));
    return this;
  }

  if (this._finished) {
    deferred.reject(new Error("executing already closed query"));
    return this;
  }

  if (typeof options === "function") {
    callback = options;
    options = {};
  }
  options = options || {};
  options = {
    headers: options.headers || self._options.headers,
    responseTarget: options.responseTarget || self._options.responseTarget,
    autoFetch: options.autoFetch || self._options.autoFetch,
    maxFetch: options.maxFetch || self._options.maxFetch,
    scanAll: options.scanAll || self._options.scanAll
  };

  // callback and promise resolution;
  var promiseCallback = function(err, res) {
    if (_.isFunction(callback)) {
      try {
        res = callback(err, res);
        err = null;
      } catch(e) {
        err = e;
      }
    }
    if (err) {
      deferred.reject(err);
    } else {
      deferred.resolve(res);
    }
  };
  this.once('response', function(res) {
    promiseCallback(null, res);
  });
  this.once('error', function(err) {
    promiseCallback(err);
  });

  // collect fetched records in array
  // only when response target is Records and
  // either callback or chaining promises are available to this query.
  this.once('fetch', function() {
    if (options.responseTarget === ResponseTargets.Records &amp;&amp; (self._chaining || callback)) {
      logger.debug('--- collecting all fetched records ---');
      var records = [];
      var onRecord = function(record) {
        records.push(record);
      };
      self.on('record', onRecord);
      self.once('end', function() {
        self.removeListener('record', onRecord);
        self.emit('response', records, self);
      });
    }
  });

  // flag to prevent re-execution
  this._executed = true;

  // start actual query
  logger.debug('&gt;&gt;&gt; Query start &gt;&gt;&gt;');
  this._execute(options).then(function() {
    logger.debug('*** Query finished ***');
  }).fail(function(err) {
    logger.debug('--- Query error ---');
    self.emit('error', err);
  });

  // return Query instance for chaining
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   if (err.name !== 'PollingTimeout') {
     cleanup();
   }
 };
 batch.on('response', cleanup);
 batch.on('error', cleanupOnError);
 batch.on('queue', function() { batch.poll(self.pollInterval, self.pollTimeout); });
 return batch.<span class="apidocCodeKeywordSpan">execute</span>(input, callback);
};

/**
* Execute bulk query and get record stream
*
* @param {String} soql - SOQL to execute in bulk job
* @returns {RecordStream.Parsable} - Record stream, convertible to CSV data stream
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.explain" id="apidoc.element.jsforce.query.prototype.explain">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>explain
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">explain = function (callback) {
  var self = this;
  var logger = this._conn._logger;
  return self.toSOQL().then(function(soql) {
    logger.debug("SOQL = " + soql);
    var url = "/query/?explain=" + encodeURIComponent(soql);
    return self._conn.request(url);
  }).thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

/**
 *
 */
describe("explain query plan of report", function() {
  it("should get explain result", function(done) {
    conn.analytics.report(reportId).<span class="apidocCodeKeywordSpan">explain</span>(function(err, result) {
      if (err) { throw err; }
      assert.ok(_.isArray(result.plans));
      for (var i=0; i&lt;result.plans.length; i++) {
        var plan = result.plans[i];
        assert.ok(_.isNumber(plan.cardinality));
        assert.ok(_.isArray(plan.fields));
        assert.ok(_.isString(plan.leadingOperationType));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.filter" id="apidoc.element.jsforce.query.prototype.filter">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>filter
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (fn) {
  return this.pipe(RecordStream.map(fn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var name   = protocol.replace(/:$/, '').toLowerCase() + '_proxy',
    upcase = name.toUpperCase(),
    env    = process.env,
    keys, proxy;

if (name === 'http_proxy' &amp;&amp; env.REQUEST_METHOD) {
  keys = Object.keys(env).<span class="apidocCodeKeywordSpan">filter</span>(function(k) { return /^http_proxy$/i.test(k) });
  if (keys.length === 1) {
    if (keys[0] === name &amp;&amp; env[upcase] === undefined)
      proxy = env[name];
  } else if (keys.length &gt; 1) {
    proxy = env[name];
  }
  proxy = proxy || env['CGI_' + upcase];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.include" id="apidoc.element.jsforce.query.prototype.include">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>include
        <span class="apidocSignatureSpan">(childRelName, conditions, fields, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">include = function (childRelName, conditions, fields, options) {
  if (this._soql) {
    throw Error("Cannot include child relationship into the query which has already built SOQL.");
  }
  if (_.isObject(childRelName)) {
    var includes = childRelName;
    for (var crname in includes) {
      var config = includes[crname];
      this.include(crname, config.conditions, config.fields, config);
    }
    return;
  }
  var childConfig = {
    table: childRelName,
    conditions: conditions,
    fields: fields,
    limit: options &amp;&amp; options.limit,
    offset: options &amp;&amp; (options.offset || options.skip),
    sort: options &amp;&amp; options.sort
  };
  if (!_.isArray(this._config.includes)) this._config.includes = [];
  this._config.includes.push(childConfig);
  var childQuery = new SubQuery(this._conn, this, childConfig);
  this._children = this._children || [];
  this._children.push(childQuery);
  return childQuery;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._soql = config;
} else if (config.locator &amp;&amp; config.locator.indexOf("/") &gt;= 0) { // if locator given in url for next records
  this._locator = config.locator.split("/").pop();
} else {
  this._config = config;
  this.select(config.fields);
  if (config.includes) {
    this.<span class="apidocCodeKeywordSpan">include</span>(config.includes);
  }
}
this._options = _.defaults({
  maxFetch: 10000,
  autoFetch: false,
  scanAll: false,
  responseTarget: ResponseTargets.QueryResult
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.limit" id="apidoc.element.jsforce.query.prototype.limit">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>limit
        <span class="apidocSignatureSpan">(limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">limit = function (limit) {
  if (this._soql) {
    throw Error("Cannot set limit for the query which has already built SOQL.");
  }
  this._config.limit = limit;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 *
 */
describe("find records with multiple sort options and limit option", function() {
  it("should return sorted records", function(done) {
    Opportunity.find({}, { "Owner.Name" : 1, CloseDate : 1 })
               .sort({ "Owner.Name" : 1, CloseDate : -1 })
               .<span class="apidocCodeKeywordSpan">limit</span>(10)
               .exec(function(err, records) {
      if (err) { throw err; }
      assert.ok(_.isArray(records));
      assert.ok(records.length &gt; 0);
      assert.ok(records.length &lt; 11);
      for (var i=0; i&lt;records.length - 1; i++) {
        var r1 = records[i], r2 = records[i+1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.map" id="apidoc.element.jsforce.query.prototype.map">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>map
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (fn) {
  return this.pipe(RecordStream.map(fn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}).then(function(res) {
  var results;
  if (job.operation === 'query') {
    var conn = bulk._conn;
    var resultIds = res['result-list'].result;
    results = res['result-list'].result;
    results = _.<span class="apidocCodeKeywordSpan">map</span>(_.isArray(results) ? results : [ results ], function(id) {
      return {
        id: id,
        batchId: batchId,
        jobId: jobId
      };
    });
  } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.maxFetch" id="apidoc.element.jsforce.query.prototype.maxFetch">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>maxFetch
        <span class="apidocSignatureSpan">(maxFetch)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxFetch = function (maxFetch) {
  this._options.maxFetch = maxFetch;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.offset" id="apidoc.element.jsforce.query.prototype.offset">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>offset
        <span class="apidocSignatureSpan">(offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">offset = function (offset) {
  if (this._soql) {
    throw Error("Cannot set skip/offset for the query which has already built SOQL.");
  }
  this._config.offset = offset;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.on" id="apidoc.element.jsforce.query.prototype.on">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>on
        <span class="apidocSignatureSpan">(e, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (e, fn) {
  if (e === 'record') {
    var self = this;
    this.on('readable', function() {
      while(self.read() !== null) {} // discard buffered records
    });
  }
  return Query.super_.prototype.on.call(this, e, fn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this._conn.request(url).thenCall(callback);
};

/*--------------------------------------------*/
/*
 * Register hook in connection instantiation for dynamically adding this API module features
 */
jsforce.<span class="apidocCodeKeywordSpan">on</span>('connection:new', function(conn) {
  conn.analytics = new Analytics(conn);
});


module.exports = Analytics;
},{}]},{},[1])(1)
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.orderby" id="apidoc.element.jsforce.query.prototype.orderby">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>orderby
        <span class="apidocSignatureSpan">(sort, dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">orderby = function (sort, dir) {
  if (this._soql) {
    throw Error("Cannot set sort for the query which has already built SOQL.");
  }
  if (_.isString(sort) &amp;&amp; _.isString(dir)) {
    sort = [ [ sort, dir ] ];
  }
  this._config.sort = sort;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.run" id="apidoc.element.jsforce.query.prototype.run">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>run
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function (options, callback) {
  var self = this;
  var logger = this._conn._logger;
  var deferred = this._deferred;

  if (this._executed) {
    deferred.reject(new Error("re-executing already executed query"));
    return this;
  }

  if (this._finished) {
    deferred.reject(new Error("executing already closed query"));
    return this;
  }

  if (typeof options === "function") {
    callback = options;
    options = {};
  }
  options = options || {};
  options = {
    headers: options.headers || self._options.headers,
    responseTarget: options.responseTarget || self._options.responseTarget,
    autoFetch: options.autoFetch || self._options.autoFetch,
    maxFetch: options.maxFetch || self._options.maxFetch,
    scanAll: options.scanAll || self._options.scanAll
  };

  // callback and promise resolution;
  var promiseCallback = function(err, res) {
    if (_.isFunction(callback)) {
      try {
        res = callback(err, res);
        err = null;
      } catch(e) {
        err = e;
      }
    }
    if (err) {
      deferred.reject(err);
    } else {
      deferred.resolve(res);
    }
  };
  this.once('response', function(res) {
    promiseCallback(null, res);
  });
  this.once('error', function(err) {
    promiseCallback(err);
  });

  // collect fetched records in array
  // only when response target is Records and
  // either callback or chaining promises are available to this query.
  this.once('fetch', function() {
    if (options.responseTarget === ResponseTargets.Records &amp;&amp; (self._chaining || callback)) {
      logger.debug('--- collecting all fetched records ---');
      var records = [];
      var onRecord = function(record) {
        records.push(record);
      };
      self.on('record', onRecord);
      self.once('end', function() {
        self.removeListener('record', onRecord);
        self.emit('response', records, self);
      });
    }
  });

  // flag to prevent re-execution
  this._executed = true;

  // start actual query
  logger.debug('&gt;&gt;&gt; Query start &gt;&gt;&gt;');
  this._execute(options).then(function() {
    logger.debug('*** Query finished ***');
  }).fail(function(err) {
    logger.debug('--- Query error ---');
    self.emit('error', err);
  });

  // return Query instance for chaining
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var len = queue.length;
while(len) {
    currentQueue = queue;
    queue = [];
    while (++queueIndex &lt; len) {
        if (currentQueue) {
            currentQueue[queueIndex].<span class="apidocCodeKeywordSpan">run</span>();
        }
    }
    queueIndex = -1;
    len = queue.length;
}
currentQueue = null;
draining = false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.scanAll" id="apidoc.element.jsforce.query.prototype.scanAll">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>scanAll
        <span class="apidocSignatureSpan">(scanAll)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">scanAll = function (scanAll) {
  this._options.scanAll = scanAll;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
Connection.prototype.queryAll = function(soql, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = undefined;
  }
  var query = new Query(this, soql, options);
  query.<span class="apidocCodeKeywordSpan">scanAll</span>(true);
  if (callback) {
    query.run(callback);
  }
  return query;
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.select" id="apidoc.element.jsforce.query.prototype.select">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>select
        <span class="apidocSignatureSpan">(fields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function (fields) {
  if (this._soql) {
    throw Error("Cannot set select fields for the query which has already built SOQL.");
  }
  fields = fields || '*';
  if (_.isString(fields)) {
    fields = fields.split(/\s*,\s*/);
  } else if (_.isObject(fields) &amp;&amp; !_.isArray(fields)) {
    var _fields =  [];
    for (var k in fields) {
      if (fields[k]) { _fields.push(k); }
    }
    fields = _fields;
  }
  this._config.fields = fields;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._conn = conn;
if (_.isString(config)) { // if query config is string, it is given in SOQL.
  this._soql = config;
} else if (config.locator &amp;&amp; config.locator.indexOf("/") &gt;= 0) { // if locator given in url for next records
  this._locator = config.locator.split("/").pop();
} else {
  this._config = config;
  this.<span class="apidocCodeKeywordSpan">select</span>(config.fields);
  if (config.includes) {
    this.include(config.includes);
  }
}
this._options = _.defaults({
  maxFetch: 10000,
  autoFetch: false,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.setResponseTarget" id="apidoc.element.jsforce.query.prototype.setResponseTarget">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>setResponseTarget
        <span class="apidocSignatureSpan">(responseTarget)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setResponseTarget = function (responseTarget) {
  if (responseTarget in ResponseTargets) {
    this._options.responseTarget = responseTarget;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   includes: options.includes,
   table: this.type,
   conditions: conditions,
   limit: options.limit,
   offset: options.offset || options.skip
 };
 var query = new Query(this._conn, config, options);
 query.<span class="apidocCodeKeywordSpan">setResponseTarget</span>(Query.ResponseTargets.Records);
 if (callback) { query.run(callback); }
 return query;
};

/**
* Fetch one record which matches given conditions
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.skip" id="apidoc.element.jsforce.query.prototype.skip">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>skip
        <span class="apidocSignatureSpan">(offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">skip = function (offset) {
  if (this._soql) {
    throw Error("Cannot set skip/offset for the query which has already built SOQL.");
  }
  this._config.offset = offset;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.sort" id="apidoc.element.jsforce.query.prototype.sort">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>sort
        <span class="apidocSignatureSpan">(sort, dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sort = function (sort, dir) {
  if (this._soql) {
    throw Error("Cannot set sort for the query which has already built SOQL.");
  }
  if (_.isString(sort) &amp;&amp; _.isString(dir)) {
    sort = [ [ sort, dir ] ];
  }
  this._config.sort = sort;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 *
 */
describe("find records with sort option", function() {
  it("should return sorted records", function(done) {
    Opportunity.find({}, { CloseDate : 1 })
               .<span class="apidocCodeKeywordSpan">sort</span>("CloseDate", "desc")
               .exec(function(err, records) {
      if (err) { throw err; }
      assert.ok(_.isArray(records));
      assert.ok(records.length &gt; 0);
      for (var i=0; i&lt;records.length - 1; i++) {
        assert.ok(records[i].CloseDate &gt;= records[i+1].CloseDate);
      }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.stream" id="apidoc.element.jsforce.query.prototype.stream">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>stream
        <span class="apidocSignatureSpan">(type, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stream = function (type, options) {
  type = type || 'csv';
  var converter = DataStreamConverters[type];
  if (!converter) {
    throw new Error('Converting [' + type + '] data stream is not supported.');
  }
  if (!this._dataStream) {
    this._dataStream = new PassThrough();
    this.pipe(converter.serialize(options))
      .pipe(this._dataStream);
  }
  return this._dataStream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * @private
 */
Batch.prototype._setupDataStreams = function() {
var batch = this;
var converterOptions = { nullValue : '#N/A' };
this._uploadStream = new RecordStream.Serializable();
this._uploadDataStream = this._uploadStream.<span class="apidocCodeKeywordSpan">stream</span>('csv', converterOptions);
this._downloadStream = new RecordStream.Parsable();
this._downloadDataStream = this._downloadStream.stream('csv', converterOptions);

this.on('finish', function() {
  batch._uploadStream.end();
});
this._uploadDataStream.once('readable', function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.then" id="apidoc.element.jsforce.query.prototype.then">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>then
        <span class="apidocSignatureSpan">(onResolved, onReject)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (onResolved, onReject) {
  this._chaining = true;
  if (!this._finished &amp;&amp; !this._executed) { this.execute(); }
  return this._deferred.promise.then.apply(this._deferred.promise, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  method : 'POST',
  path : "/job",
  body : body,
  headers : {
    "Content-Type" : "application/xml; charset=utf-8"
  },
  responseType: "application/xml"
}).<span class="apidocCodeKeywordSpan">then</span>(function(res) {
  self.emit("open", res.jobInfo);
  self.id = res.jobInfo.id;
  self.state = res.jobInfo.state;
  return res.jobInfo;
}, function(err) {
  self.emit("error", err);
  throw err;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.thenCall" id="apidoc.element.jsforce.query.prototype.thenCall">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>thenCall
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">thenCall = function (callback) {
  if (_.isFunction(callback)) {
    this.then(function(res) {
      process.nextTick(function() {
        callback(null, res);
      });
    }, function(err) {
      process.nextTick(function() {
        callback(err);
      });
    });
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {Callback.&lt;Analytics~ReportResult&gt;} [callback] - Callback function
* @returns {Promise.&lt;Analytics~ReportResult&gt;}
*/
ReportInstance.prototype.retrieve = function(callback) {
 var conn = this._conn,
     report = this._report;
 var url = [ conn._baseUrl(), "analytics", "reports", report.id, "instances", this.id ].join('
;/');
 return conn.request(url).<span class="apidocCodeKeywordSpan">thenCall</span>(callback);
};

/**
* Report object in Analytics API
*
* @protected
* @class Analytics~Report
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.toSOQL" id="apidoc.element.jsforce.query.prototype.toSOQL">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>toSOQL
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toSOQL = function (callback) {
  var self = this;
  return Promise.resolve(self._soql ||
    self._expandFields().then(function() { return SOQLBuilder.createSOQL(self._config); })
  ).thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var autoFetch = options.autoFetch;
var maxFetch = options.maxFetch;
var scanAll = options.scanAll;

return Promise.resolve(
  self._locator ?
  self._conn._baseUrl() + "/query/" + self._locator :
  self.<span class="apidocCodeKeywordSpan">toSOQL</span>().then(function(soql) {
    self.totalFetched = 0;
    logger.debug("SOQL = " + soql);
    return self._conn._baseUrl() + "/" + (scanAll ? "queryAll" : "query") + "?q=" + encodeURIComponent
(soql);
  })
).then(function(url) {
  return self._conn.request({
    method: 'GET',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.update" id="apidoc.element.jsforce.query.prototype.update">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>update
        <span class="apidocSignatureSpan">(mapping, type, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (mapping, type, callback) {
  if (typeof type === 'function') {
    callback = type;
    type = null;
  }
  type = type || (this._config &amp;&amp; this._config.table);
  if (!type) {
    throw new Error("SOQL based query needs SObject type information to bulk update.");
  }
  var updateStream = _.isFunction(mapping) ? RecordStream.map(mapping) : RecordStream.recordMapStream(mapping);
  var batch = this._conn.sobject(type).updateBulk();
  var deferred = Promise.defer();
  var handleError = function(err) {
    if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
    else { deferred.reject(err); }
  };
  this.on('error', handleError)
    .pipe(updateStream)
    .on('error', handleError)
    .pipe(batch)
    .on('response', function(res) { deferred.resolve(res); })
    .on('error', handleError);
  return deferred.promise.thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
RecordReference.prototype.update = function(record, options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 record = _.clone(record);
 record.Id = this.id;
 return this._conn.<span class="apidocCodeKeywordSpan">update</span>(this.type, record, options, callback);
};

/**
* Synonym of Record#destroy()
*
* @method RecordReference#delete
* @param {Object} [options] - Options for rest api.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.query.prototype.where" id="apidoc.element.jsforce.query.prototype.where">
        function <span class="apidocSignatureSpan">jsforce.query.prototype.</span>where
        <span class="apidocSignatureSpan">(conditions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">where = function (conditions) {
  if (this._soql) {
    throw Error("Cannot set where conditions for the query which has already built SOQL.");
  }
  this._config.conditions = conditions;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.quick_action" id="apidoc.module.jsforce.quick_action">module jsforce.quick_action</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.quick_action.quick_action" id="apidoc.element.jsforce.quick_action.quick_action">
        function <span class="apidocSignatureSpan">jsforce.</span>quick_action
        <span class="apidocSignatureSpan">(conn, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">quick_action = function (conn, path) {
  this._conn = conn;
  this._path = path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.quick_action.prototype" id="apidoc.module.jsforce.quick_action.prototype">module jsforce.quick_action.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.quick_action.prototype.defaultValues" id="apidoc.element.jsforce.quick_action.prototype.defaultValues">
        function <span class="apidocSignatureSpan">jsforce.quick_action.prototype.</span>defaultValues
        <span class="apidocSignatureSpan">(contextId, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultValues = function (contextId, callback) {
  if (typeof contextId === 'function') {
    callback = contextId;
    contextId = null;
  }
  var url = this._path + "/defaultValues";
  if (contextId) {
    url += "/" + contextId;
  }
  return this._conn.request(url).thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

/**
 *
 */
describe("get default values of the action", function() {
  it("should return default field values", function(done) {
    action.<span class="apidocCodeKeywordSpan">defaultValues</span>(function(err, res) {
      if (err) { throw err; }
      assert.ok(_.isObject(res));
      // assert.ok(res.Subject === null);
      assert.ok(res.Description === null);
      assert.ok(res.WhoId === null);
      assert.ok(res.WhatId === null);
    }.check(done));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.quick_action.prototype.describe" id="apidoc.element.jsforce.quick_action.prototype.describe">
        function <span class="apidocSignatureSpan">jsforce.quick_action.prototype.</span>describe
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">describe = function (callback) {
  var url = this._path + "/describe";
  return this._conn.request(url).thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Describe SObject metadata
*
* @param {Callback.&lt;DescribeSObjectResult&gt;} [callback] - Callback function
* @returns {Promise.&lt;DescribeSObjectResult&gt;}
*/
SObject.prototype.describe = function(callback) {
 return this._conn.<span class="apidocCodeKeywordSpan">describe</span>(this.type, callback);
};

/**
* Get record representation instance by given id
*
* @param {String} id - A record ID
* @returns {RecordReference}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.quick_action.prototype.execute" id="apidoc.element.jsforce.quick_action.prototype.execute">
        function <span class="apidocSignatureSpan">jsforce.quick_action.prototype.</span>execute
        <span class="apidocSignatureSpan">(contextId, record, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">execute = function (contextId, record, callback) {
  var body = {
    contextId: contextId,
    record: record
  };
  return this._conn.requestPost(this._path, body).thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   if (err.name !== 'PollingTimeout') {
     cleanup();
   }
 };
 batch.on('response', cleanup);
 batch.on('error', cleanupOnError);
 batch.on('queue', function() { batch.poll(self.pollInterval, self.pollTimeout); });
 return batch.<span class="apidocCodeKeywordSpan">execute</span>(input, callback);
};

/**
* Execute bulk query and get record stream
*
* @param {String} soql - SOQL to execute in bulk job
* @returns {RecordStream.Parsable} - Record stream, convertible to CSV data stream
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.record" id="apidoc.module.jsforce.record">module jsforce.record</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.record.record" id="apidoc.element.jsforce.record.record">
        function <span class="apidocSignatureSpan">jsforce.</span>record
        <span class="apidocSignatureSpan">(conn, type, id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">record = function (conn, type, id) {
  this._conn = conn;
  this.type = type;
  this.id = id;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });

  /**
   *
   */
  describe("update account", function() {
it("should update successfully", function(done) {
  conn.sobject('Account').<span class="apidocCodeKeywordSpan">record</span>(account.Id).update({ Name : "Hello2&amp;#
x22; }, function(err, ret) {
    if (err) { throw err; }
    assert.ok(ret.success);
  }.check(done));
});

describe("then retrieve the account", function() {
  it("should return updated account object", function(done) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.record.prototype" id="apidoc.module.jsforce.record.prototype">module jsforce.record.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.record.prototype.blob" id="apidoc.element.jsforce.record.prototype.blob">
        function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>blob
        <span class="apidocSignatureSpan">(fieldName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blob = function (fieldName) {
  var url = [ this._conn._baseUrl(), 'sobjects', this.type, this.id, fieldName ].join('/');
  return this._conn.request(url).stream();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record.prototype.del" id="apidoc.element.jsforce.record.prototype.del">
        function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>del
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">del = function (options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.destroy(this.type, this.id, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record.prototype.delete" id="apidoc.element.jsforce.record.prototype.delete">
        function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>delete
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.destroy(this.type, this.id, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 *
 */
describe("delete account info", function() {
  it("should not get any account for delete account id", function(done) {
    async.waterfall([
      function(cb) {
        conn.apex.<span class="apidocCodeKeywordSpan">delete</span>('/JSforceTestApexRest/' + accountId, cb);
      },
      function(ret, cb) {
        conn.sobject('Account').find({ Id: accountId }, cb);
      }
    ], function(err, records) {
      if (err) { throw err; }
      assert.ok(records.length === 0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record.prototype.destroy" id="apidoc.element.jsforce.record.prototype.destroy">
        function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>destroy
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.destroy(this.type, this.id, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @returns {Promise.&lt;RecordResult&gt;}
*/
RecordReference.prototype.destroy = function(options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 return this._conn.<span class="apidocCodeKeywordSpan">destroy</span>(this.type, this.id, options, callback);
};

/**
* Get blob field as stream
*
* @param {String} fieldName - Blob field name
* @returns {stream.Stream}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record.prototype.retrieve" id="apidoc.element.jsforce.record.prototype.retrieve">
        function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>retrieve
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retrieve = function (options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.retrieve(this.type, this.id, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
self.check(function(err, res) {
  if (err) {
    self.emit('error', err);
  } else {
    if (res.state === "Failed") {
      if (parseInt(res.numberRecordsProcessed, 10) &gt; 0) {
        self.<span class="apidocCodeKeywordSpan">retrieve</span>();
      } else {
        self.emit('error', new Error(res.stateMessage));
      }
    } else if (res.state === "Completed") {
      self.retrieve();
    } else {
      self.emit('progress', res);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record.prototype.update" id="apidoc.element.jsforce.record.prototype.update">
        function <span class="apidocSignatureSpan">jsforce.record.prototype.</span>update
        <span class="apidocSignatureSpan">(record, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (record, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  record = _.clone(record);
  record.Id = this.id;
  return this._conn.update(this.type, record, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
RecordReference.prototype.update = function(record, options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 record = _.clone(record);
 record.Id = this.id;
 return this._conn.<span class="apidocCodeKeywordSpan">update</span>(this.type, record, options, callback);
};

/**
* Synonym of Record#destroy()
*
* @method RecordReference#delete
* @param {Object} [options] - Options for rest api.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.record_stream" id="apidoc.module.jsforce.record_stream">module jsforce.record_stream</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.record_stream.record_stream" id="apidoc.element.jsforce.record_stream.record_stream">
        function <span class="apidocSignatureSpan">jsforce.</span>record_stream
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">record_stream = function () {
  RecordStream.super_.call(this, { objectMode: true });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.Parsable" id="apidoc.element.jsforce.record_stream.Parsable">
        function <span class="apidocSignatureSpan">jsforce.record_stream.</span>Parsable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parsable = function () {
  Parsable.super_.call(this);
  this._dataStream = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @private
 */
Batch.prototype._setupDataStreams = function() {
var batch = this;
var converterOptions = { nullValue : '#N/A' };
this._uploadStream = new RecordStream.Serializable();
this._uploadDataStream = this._uploadStream.stream('csv', converterOptions);
this._downloadStream = new RecordStream.<span class="apidocCodeKeywordSpan">Parsable</span>();
this._downloadDataStream = this._downloadStream.stream('csv', converterOptions);

this.on('finish', function() {
  batch._uploadStream.end();
});
this._uploadDataStream.once('readable', function() {
  batch.job.open().then(function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.Serializable" id="apidoc.element.jsforce.record_stream.Serializable">
        function <span class="apidocSignatureSpan">jsforce.record_stream.</span>Serializable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Serializable = function () {
  Serializable.super_.call(this);
  this._dataStream = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * @private
 */
Batch.prototype._setupDataStreams = function() {
var batch = this;
var converterOptions = { nullValue : '#N/A' };
this._uploadStream = new RecordStream.<span class="apidocCodeKeywordSpan">Serializable</span>();
this._uploadDataStream = this._uploadStream.stream('csv', converterOptions);
this._downloadStream = new RecordStream.Parsable();
this._downloadDataStream = this._downloadStream.stream('csv', converterOptions);

this.on('finish', function() {
  batch._uploadStream.end();
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.filter" id="apidoc.element.jsforce.record_stream.filter">
        function <span class="apidocSignatureSpan">jsforce.record_stream.</span>filter
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (fn) {
  var filterStream = new RecordStream.Serializable();
  filterStream._transform = function(record, enc, callback) {
    if (fn(record)) { this.push(record); }
    callback();
  };
  return filterStream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var name   = protocol.replace(/:$/, '').toLowerCase() + '_proxy',
    upcase = name.toUpperCase(),
    env    = process.env,
    keys, proxy;

if (name === 'http_proxy' &amp;&amp; env.REQUEST_METHOD) {
  keys = Object.keys(env).<span class="apidocCodeKeywordSpan">filter</span>(function(k) { return /^http_proxy$/i.test(k) });
  if (keys.length === 1) {
    if (keys[0] === name &amp;&amp; env[upcase] === undefined)
      proxy = env[name];
  } else if (keys.length &gt; 1) {
    proxy = env[name];
  }
  proxy = proxy || env['CGI_' + upcase];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.map" id="apidoc.element.jsforce.record_stream.map">
        function <span class="apidocSignatureSpan">jsforce.record_stream.</span>map
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (fn) {
  var mapStream = new RecordStream.Serializable();
  mapStream._transform = function(record, enc, callback) {
    var rec = fn(record) || record; // if not returned record, use same record
    this.push(rec);
    callback();
  };
  return mapStream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}).then(function(res) {
  var results;
  if (job.operation === 'query') {
    var conn = bulk._conn;
    var resultIds = res['result-list'].result;
    results = res['result-list'].result;
    results = _.<span class="apidocCodeKeywordSpan">map</span>(_.isArray(results) ? results : [ results ], function(id) {
      return {
        id: id,
        batchId: batchId,
        jobId: jobId
      };
    });
  } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.recordMapStream" id="apidoc.element.jsforce.record_stream.recordMapStream">
        function <span class="apidocSignatureSpan">jsforce.record_stream.</span>recordMapStream
        <span class="apidocSignatureSpan">(record, noeval)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">recordMapStream = function (record, noeval) {
  return RecordStream.map(function(rec) {
    var mapped = { Id: rec.Id };
    for (var prop in record) {
      mapped[prop] = noeval ? record[prop] : evalMapping(record[prop], rec);
    }
    return mapped;
  });

  function evalMapping(value, mapping) {
    if (_.isString(value)) {
      var m = /^\$\{(\w+)\}$/.exec(value);
      if (m) { return mapping[m[1]]; }
      return value.replace(/\$\{(\w+)\}/g, function($0, prop) {
        var v = mapping[prop];
        return _.isNull(v) || _.isUndefined(v) ? "" : String(v);
      });
    } else {
      return value;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  callback = type;
  type = null;
}
type = type || (this._config &amp;&amp; this._config.table);
if (!type) {
  throw new Error("SOQL based query needs SObject type information to bulk update.");
}
var updateStream = _.isFunction(mapping) ? RecordStream.map(mapping) : RecordStream.<span class="apidocCodeKeywordSpan">recordMapStream
</span>(mapping);
var batch = this._conn.sobject(type).updateBulk();
var deferred = Promise.defer();
var handleError = function(err) {
  if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
  else { deferred.reject(err); }
};
this.on('error', handleError)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.super_" id="apidoc.element.jsforce.record_stream.super_">
        function <span class="apidocSignatureSpan">jsforce.record_stream.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform)) return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === 'function') this._transform = options.transform;

    if (typeof options.flush === 'function') this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once('prefinish', function () {
    if (typeof this._flush === 'function') this._flush(function (er, data) {
      done(stream, er, data);
    });else done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.record_stream.prototype" id="apidoc.module.jsforce.record_stream.prototype">module jsforce.record_stream.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.record_stream.prototype._transform" id="apidoc.element.jsforce.record_stream.prototype._transform">
        function <span class="apidocSignatureSpan">jsforce.record_stream.prototype.</span>_transform
        <span class="apidocSignatureSpan">(record, enc, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (record, enc, callback) {
  this.emit('record', record);
  this.push(record);
  callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.prototype.filter" id="apidoc.element.jsforce.record_stream.prototype.filter">
        function <span class="apidocSignatureSpan">jsforce.record_stream.prototype.</span>filter
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (fn) {
  return this.pipe(RecordStream.filter(fn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var name   = protocol.replace(/:$/, '').toLowerCase() + '_proxy',
    upcase = name.toUpperCase(),
    env    = process.env,
    keys, proxy;

if (name === 'http_proxy' &amp;&amp; env.REQUEST_METHOD) {
  keys = Object.keys(env).<span class="apidocCodeKeywordSpan">filter</span>(function(k) { return /^http_proxy$/i.test(k) });
  if (keys.length === 1) {
    if (keys[0] === name &amp;&amp; env[upcase] === undefined)
      proxy = env[name];
  } else if (keys.length &gt; 1) {
    proxy = env[name];
  }
  proxy = proxy || env['CGI_' + upcase];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.record_stream.prototype.map" id="apidoc.element.jsforce.record_stream.prototype.map">
        function <span class="apidocSignatureSpan">jsforce.record_stream.prototype.</span>map
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (fn) {
  return this.pipe(RecordStream.map(fn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}).then(function(res) {
  var results;
  if (job.operation === 'query') {
    var conn = bulk._conn;
    var resultIds = res['result-list'].result;
    results = res['result-list'].result;
    results = _.<span class="apidocCodeKeywordSpan">map</span>(_.isArray(results) ? results : [ results ], function(id) {
      return {
        id: id,
        batchId: batchId,
        jobId: jobId
      };
    });
  } else {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.soap" id="apidoc.module.jsforce.soap">module jsforce.soap</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.soap.soap" id="apidoc.element.jsforce.soap.soap">
        function <span class="apidocSignatureSpan">jsforce.</span>soap
        <span class="apidocSignatureSpan">(conn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">soap = function (conn, options) {
  SOAP.super_.apply(this, arguments);
  this._endpointUrl = options.endpointUrl;
  this._xmlns = options.xmlns || 'urn:partner.soap.sforce.com';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap.super_" id="apidoc.element.jsforce.soap.super_">
        function <span class="apidocSignatureSpan">jsforce.soap.</span>super_
        <span class="apidocSignatureSpan">(conn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (conn, options) {
  options = options || {};
  this._conn = conn;
  this.on('resume', function(err) { conn.emit('resume', err); });
  this._responseType = options.responseType;
  this._transport = options.transport || conn._transport;
  this._noContentResponse = options.noContentResponse;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.soap.prototype" id="apidoc.module.jsforce.soap.prototype">module jsforce.soap.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.soap.prototype._createEnvelope" id="apidoc.element.jsforce.soap.prototype._createEnvelope">
        function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>_createEnvelope
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createEnvelope = function (message) {
  var header = {};
  var conn = this._conn;
  if (conn.accessToken) {
    header.SessionHeader = { sessionId: this._conn.accessToken };
  }
  if (conn.callOptions) {
    header.CallOptions = conn.callOptions;
  }
  return [
    '&lt;?xml version="1.0" encoding="UTF-8"?&gt;',
    '&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',
    ' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',
    ' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;',
    '&lt;soapenv:Header xmlns="' + this._xmlns + '"&gt;',
    toXML(header),
    '&lt;/soapenv:Header&gt;',
    '&lt;soapenv:Body xmlns="' + this._xmlns + '"&gt;',
    toXML(message),
    '&lt;/soapenv:Body&gt;',
    '&lt;/soapenv:Envelope&gt;'
  ].join('');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
    }
  }
}

/** @override **/
SOAP.prototype.beforeSend = function(request) {
  request.body = this.<span class="apidocCodeKeywordSpan">_createEnvelope</span>(request.message);
};

/** @override **/
SOAP.prototype.isSessionExpired = function(response) {
  return response.statusCode === 500 &amp;&amp;
    /&lt;faultcode&gt;[a-zA-Z]+:INVALID_SESSION_ID&lt;\/faultcode&gt;/.test(response.body);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap.prototype.beforeSend" id="apidoc.element.jsforce.soap.prototype.beforeSend">
        function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>beforeSend
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">beforeSend = function (request) {
  request.body = this._createEnvelope(request.message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (refreshDelegate &amp;&amp; refreshDelegate._refreshing) {
  refreshDelegate.once('resume', onResume);
  return deferred.promise.thenCall(callback);
}

// hook before sending
self.<span class="apidocCodeKeywordSpan">beforeSend</span>(request);

self.emit('request', request);
logger.debug("&lt;request&gt; method=" + request.method + ", url=" + request.url);
var requestTime = Date.now();

return this._transport.httpRequest(request).then(function(response) {
  var responseTime = Date.now();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap.prototype.getResponseBody" id="apidoc.element.jsforce.soap.prototype.getResponseBody">
        function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>getResponseBody
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getResponseBody = function (response) {
  var body = SOAP.super_.prototype.getResponseBody.call(this, response);
  return lookupValue(body, [ /:Envelope$/, /:Body$/, /.+/ ]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    refreshDelegate.refresh(requestTime, onResume);
    return deferred.promise;
  }
  if (self.isErrorResponse(response)) {
    var err = self.getError(response);
    throw err;
  }
  return self.<span class="apidocCodeKeywordSpan">getResponseBody</span>(response);
}, function(err) {
  var responseTime = Date.now();
  logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
  logger.error(err);
  throw err;
})
.thenCall(callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap.prototype.invoke" id="apidoc.element.jsforce.soap.prototype.invoke">
        function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>invoke
        <span class="apidocSignatureSpan">(method, args, schema, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">invoke = function (method, args, schema, callback) {
  if (typeof schema === 'function') {
    callback = schema;
    schema = null;
  }
  var message = {};
  message[method] = args;
  return this.request({
    method: 'POST',
    url: this._endpointUrl,
    headers: {
      'Content-Type': 'text/xml',
      'SOAPAction': '""'
    },
    message: message
  }).then(function(res) {
    return schema ? convertType(res, schema) : res;
  }).thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @private
*/
Metadata.prototype._invoke = function(method, message, callback) {
 var soapEndpoint = new SOAP(this._conn, {
   xmlns: "http://soap.sforce.com/2006/04/metadata",
   endpointUrl: this._conn.instanceUrl + "/services/Soap/m/" + this._conn.version
 });
 return soapEndpoint.<span class="apidocCodeKeywordSpan">invoke</span>(method, message).then(function(res) {
   return res.result;
 }).thenCall(callback);
};


/**
* @typedef {Object} Metadata~MetadataInfo
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap.prototype.isSessionExpired" id="apidoc.element.jsforce.soap.prototype.isSessionExpired">
        function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>isSessionExpired
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSessionExpired = function (response) {
  return response.statusCode === 500 &amp;&amp;
    /&lt;faultcode&gt;[a-zA-Z]+:INVALID_SESSION_ID&lt;\/faultcode&gt;/.test(response.body);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var responseTime = Date.now();
logger.debug("elappsed time : " + (responseTime - requestTime) + "msec");
logger.debug("&lt;response&gt; status=" + response.statusCode + ", url=" + request.url);

self.emit('response', response);
// Refresh token if session has been expired and requires authentication
// when session refresh delegate is available
if (self.<span class="apidocCodeKeywordSpan">isSessionExpired</span>(response) &amp;&amp; refreshDelegate) {
  refreshDelegate.refresh(requestTime, onResume);
  return deferred.promise;
}
if (self.isErrorResponse(response)) {
  var err = self.getError(response);
  throw err;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.soap.prototype.parseError" id="apidoc.element.jsforce.soap.prototype.parseError">
        function <span class="apidocSignatureSpan">jsforce.soap.prototype.</span>parseError
        <span class="apidocSignatureSpan">(body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseError = function (body) {
  var error = lookupValue(body, [ /:Envelope$/, /:Body$/, /:Fault$/ ]);
  return {
    errorCode: error.faultcode,
    message: error.faultstring
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Get error message in response
 * @protected
 */
HttpApi.prototype.getError = function(response, body) {
var error;
try {
  error = this.<span class="apidocCodeKeywordSpan">parseError</span>(body || this.parseResponseBody(response));
} catch(e) {}
error = _.isObject(error) &amp;&amp; _.isString(error.message) ? error : {
  errorCode: 'ERROR_HTTP_' + response.statusCode,
  message : response.body
};
var err = new Error(error.message);
err.name = error.errorCode;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.sobject" id="apidoc.module.jsforce.sobject">module jsforce.sobject</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.sobject.sobject" id="apidoc.element.jsforce.sobject.sobject">
        function <span class="apidocSignatureSpan">jsforce.</span>sobject
        <span class="apidocSignatureSpan">(conn, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sobject = function (conn, type) {
  this._conn = conn;
  this.type = type;
  var cacheOptions = { key: "describe." + this.type };
  this.describe$ = conn.cache.makeCacheable(this.describe, this, cacheOptions);
  this.describe = conn.cache.makeResponseCacheable(this.describe, this, cacheOptions);

  cacheOptions = { key: "layouts." + this.type };
  this.layouts$ = conn.cache.makeCacheable(this.layouts, this, cacheOptions);
  this.layouts = conn.cache.makeResponseCacheable(this.layouts, this, cacheOptions);

  cacheOptions = { key: "compactLayouts." + this.type };
  this.compactLayouts$ = conn.cache.makeCacheable(this.compactLayouts, this, cacheOptions);
  this.compactLayouts = conn.cache.makeResponseCacheable(this.compactLayouts, this, cacheOptions);

  cacheOptions = { key: "approvalLayouts." + this.type };
  this.approvalLayouts$ = conn.cache.makeCacheable(this.approvalLayouts, this, cacheOptions);
  this.approvalLayouts = conn.cache.makeResponseCacheable(this.approvalLayouts, this, cacheOptions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Channel.prototype.push = function(events, callback) {
var isArray = _.isArray(events);
events = isArray ? events : [ events ];
var conn = this._streaming._conn;
if (!this._id) {
  this._id = conn.<span class="apidocCodeKeywordSpan">sobject</span>('StreamingChannel').findOne({ Name: this._name }, &amp;#
x27;Id')
    .then(function(rec) { return rec.Id });
}
return this._id.then(function(id) {
  var channelUrl = '/sobjects/StreamingChannel/' + id + '/push';
  return conn.requestPost(channelUrl, { pushEvents: events });
}).then(function(rets) {
  return isArray ? rets : rets[0];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.sobject.prototype" id="apidoc.module.jsforce.sobject.prototype">module jsforce.sobject.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.approvalLayouts" id="apidoc.element.jsforce.sobject.prototype.approvalLayouts">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>approvalLayouts
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">approvalLayouts = function (callback) {
  var url = "/sobjects/" + this.type + "/describe/approvalLayouts";
  return this._conn.request(url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


/**
 *
 */
describe("list approval layout for SObject", function() {
  it("should return Account approval layout information", function(done) {
    Account.<span class="apidocCodeKeywordSpan">approvalLayouts</span>(function(err, res) {
      if (err) { throw err; }
      assert.ok(_.isArray(res.approvalLayouts));
      res.approvalLayouts.forEach(function(alayout) {
        assert.ok(alayout.id === null || _.isString(alayout.id));
        assert.ok(_.isString(alayout.name));
        assert.ok(_.isString(alayout.label));
        assert.ok(_.isArray(alayout.layoutItems));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.bulkload" id="apidoc.element.jsforce.sobject.prototype.bulkload">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>bulkload
        <span class="apidocSignatureSpan">(operation, options, input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bulkload = function (operation, options, input, callback) {
  return this._conn.bulk.load(this.type, operation, options, input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @method SObject#createBulk
* @param {Array.&lt;Record&gt;|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string
, and CSV data input stream.
* @param {Callback.&lt;Array.&lt;RecordResult&gt;&gt;} [callback] - Callback function
* @returns {Bulk~Batch}
*/
SObject.prototype.insertBulk =
SObject.prototype.createBulk = function(input, callback) {
 return this.<span class="apidocCodeKeywordSpan">bulkload</span>("insert", input, callback);
};

/**
* Bulkly update records by input data using bulk API
*
* @param {Array.&lt;Record&gt;|stream.Stream|String} [input] - Input source for bulk update Accepts array of records, CSv string
, and CSV data input stream.
* @param {Callback.&lt;Array.&lt;RecordResult&gt;&gt;} [callback] - Callback function
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.compactLayouts" id="apidoc.element.jsforce.sobject.prototype.compactLayouts">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>compactLayouts
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compactLayouts = function (callback) {
  var url = "/sobjects/" + this.type + "/describe/compactLayouts";
  return this._conn.request(url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

/**
 *
 */
describe("list compact layout for SObject", function() {
  it("should return Account comact layout information", function(done) {
    Account.<span class="apidocCodeKeywordSpan">compactLayouts</span>(function(err, res) {
      if (err) { throw err; }
      assert.ok(_.isArray(res.compactLayouts));
      res.compactLayouts.forEach(function(clayout) {
        assert.ok(clayout.id === null || _.isString(clayout.id));
        assert.ok(_.isString(clayout.objectType));
        assert.ok(_.isArray(clayout.actions));
        assert.ok(_.isArray(clayout.fieldItems));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.count" id="apidoc.element.jsforce.sobject.prototype.count">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>count
        <span class="apidocSignatureSpan">(conditions, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function (conditions, callback) {
  if (typeof conditions === 'function') {
    callback = conditions;
    conditions = {};
  }
  var query = this.find(conditions, { "count()" : true });
  query.setResponseTarget("Count");
  if (callback) { query.run(callback); }
  return query;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    it("should get a record stream and file output", function(done) {
var file = __dirname + "/data/BulkQuery_export.csv";
var fstream = fs.createWriteStream(file);
var records = [];
var count = -1;
async.waterfall([
  function(next) {
    conn.sobject(config.bigTable).<span class="apidocCodeKeywordSpan">count</span>({}, next);
  },
  function(_count, next) {
    count = _count;
    conn.bulk.query("SELECT Id, Name FROM " + config.bigTable)
      .on('record', function(rec) { records.push(rec); })
      .on('error', function(err) { next(err); })
      .stream().pipe(fstream)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.create" id="apidoc.element.jsforce.sobject.prototype.create">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>create
        <span class="apidocSignatureSpan">(records, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (records, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.create(this.type, records, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  initialize: function(endpoint, options) {
this.info('New client created for ?', endpoint);
options = options || {};

validateOptions(options, ['interval', 'timeout', 'endpoints', 'proxy', 'retry', &amp;#
x27;scheduler', 'websocketExtensions', 'tls', 'ca']);

this._channels   = new Channel.Set();
this._dispatcher = Dispatcher.<span class="apidocCodeKeywordSpan">create</span>(this, endpoint || this.DEFAULT_ENDPOINT, options
);

this._messageId = 0;
this._state     = this.UNCONNECTED;

this._responseCallbacks = {};

this._advice = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.createBulk" id="apidoc.element.jsforce.sobject.prototype.createBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>createBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBulk = function (input, callback) {
  return this.bulkload("insert", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.del" id="apidoc.element.jsforce.sobject.prototype.del">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>del
        <span class="apidocSignatureSpan">(ids, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">del = function (ids, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.destroy(this.type, ids, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.delete" id="apidoc.element.jsforce.sobject.prototype.delete">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>delete
        <span class="apidocSignatureSpan">(ids, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (ids, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.destroy(this.type, ids, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 *
 */
describe("delete account info", function() {
  it("should not get any account for delete account id", function(done) {
    async.waterfall([
      function(cb) {
        conn.apex.<span class="apidocCodeKeywordSpan">delete</span>('/JSforceTestApexRest/' + accountId, cb);
      },
      function(ret, cb) {
        conn.sobject('Account').find({ Id: accountId }, cb);
      }
    ], function(err, records) {
      if (err) { throw err; }
      assert.ok(records.length === 0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.deleteBulk" id="apidoc.element.jsforce.sobject.prototype.deleteBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>deleteBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteBulk = function (input, callback) {
  return this.bulkload("delete", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  callback = type;
  type = null;
}
type = type || (this._config &amp;&amp; this._config.table);
if (!type) {
  throw new Error("SOQL based query needs SObject type information to bulk delete.");
}
var batch = this._conn.sobject(type).<span class="apidocCodeKeywordSpan">deleteBulk</span>();
var deferred = Promise.defer();
var handleError = function(err) {
  if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
  else { deferred.reject(err); }
};
this.on('error', handleError)
  .pipe(batch)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.deleteHardBulk" id="apidoc.element.jsforce.sobject.prototype.deleteHardBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>deleteHardBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteHardBulk = function (input, callback) {
  return this.bulkload("hardDelete", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.deleted" id="apidoc.element.jsforce.sobject.prototype.deleted">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>deleted
        <span class="apidocSignatureSpan">(start, end, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleted = function (start, end, callback) {
  return this._conn.deleted(this.type, start, end, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param {String|Date} start - start date or string representing the start of the interval
* @param {String|Date} end - start date or string representing the end of the interval, must be &gt; start
* @param {Callback.&lt;DeletedRecordsInfo&gt;} [callback] - Callback function
* @returns {Promise.&lt;DeletedRecordsInfo&gt;}
*/
SObject.prototype.deleted = function (start, end, callback) {
 return this._conn.<span class="apidocCodeKeywordSpan">deleted</span>(this.type, start, end, callback);
};

/**
* @typedef {Object} LayoutInfo
* @prop {Array.&lt;Object&gt;} layouts - Array of layouts
* @prop {Array.&lt;Object&gt;} recordTypeMappings - Array of record type mappings
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.describe" id="apidoc.element.jsforce.sobject.prototype.describe">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>describe
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">describe = function (callback) {
  return this._conn.describe(this.type, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Describe SObject metadata
*
* @param {Callback.&lt;DescribeSObjectResult&gt;} [callback] - Callback function
* @returns {Promise.&lt;DescribeSObjectResult&gt;}
*/
SObject.prototype.describe = function(callback) {
 return this._conn.<span class="apidocCodeKeywordSpan">describe</span>(this.type, callback);
};

/**
* Get record representation instance by given id
*
* @param {String} id - A record ID
* @returns {RecordReference}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.destroy" id="apidoc.element.jsforce.sobject.prototype.destroy">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>destroy
        <span class="apidocSignatureSpan">(ids, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (ids, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.destroy(this.type, ids, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @returns {Promise.&lt;RecordResult&gt;}
*/
RecordReference.prototype.destroy = function(options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 return this._conn.<span class="apidocCodeKeywordSpan">destroy</span>(this.type, this.id, options, callback);
};

/**
* Get blob field as stream
*
* @param {String} fieldName - Blob field name
* @returns {stream.Stream}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.destroyBulk" id="apidoc.element.jsforce.sobject.prototype.destroyBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>destroyBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroyBulk = function (input, callback) {
  return this.bulkload("delete", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.destroyHardBulk" id="apidoc.element.jsforce.sobject.prototype.destroyHardBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>destroyHardBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroyHardBulk = function (input, callback) {
  return this.bulkload("hardDelete", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.find" id="apidoc.element.jsforce.sobject.prototype.find">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>find
        <span class="apidocSignatureSpan">(conditions, fields, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (conditions, fields, options, callback) {
  if (typeof conditions === 'function') {
    callback = conditions;
    conditions = {};
    fields = null;
    options = null;
  } else if (typeof fields === 'function') {
    callback = fields;
    fields = null;
    options = null;
  } else if (typeof options === 'function') {
    callback = options;
    options = null;
  }
  options = options || {};
  var config = {
    fields: fields,
    includes: options.includes,
    table: this.type,
    conditions: conditions,
    limit: options.limit,
    offset: options.offset || options.skip
  };
  var query = new Query(this._conn, config, options);
  query.setResponseTarget(Query.ResponseTargets.Records);
  if (callback) { query.run(callback); }
  return query;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
]);

function findRelationTable(rname) {
  var ptable = self._parent._config.table;
  logger.debug('finding table for relation "' + rname + '" in "' + ptable + '"...&amp;#
x27;);
  return describeCache(ptable).then(function(sobject) {
    var upperRname = rname.toUpperCase();
    var childRelation = _.<span class="apidocCodeKeywordSpan">find</span>(sobject.childRelationships, function(cr) {
      return (cr.relationshipName || '').toUpperCase() === upperRname;
    });
    return childRelation ? childRelation.childSObject :
      Promise.reject(new Error("No child relationship found: " + rname ));
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.findOne" id="apidoc.element.jsforce.sobject.prototype.findOne">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>findOne
        <span class="apidocSignatureSpan">(conditions, fields, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOne = function (conditions, fields, options, callback) {
  if (typeof conditions === 'function') {
    callback = conditions;
    conditions = {};
    fields = null;
    options = null;
  } else if (typeof fields === 'function') {
    callback = fields;
    fields = null;
    options = null;
  } else if (typeof options === 'function') {
    callback = options;
    options = null;
  }
  options = _.extend(options || {}, { limit: 1 });
  var query = this.find(conditions, fields, options);
  query.setResponseTarget(Query.ResponseTargets.SingleRecord);
  if (callback) { query.run(callback); }
  return query;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Channel.prototype.push = function(events, callback) {
var isArray = _.isArray(events);
events = isArray ? events : [ events ];
var conn = this._streaming._conn;
if (!this._id) {
  this._id = conn.sobject('StreamingChannel').<span class="apidocCodeKeywordSpan">findOne</span>({ Name: this._name }, &amp;#
x27;Id')
    .then(function(rec) { return rec.Id });
}
return this._id.then(function(id) {
  var channelUrl = '/sobjects/StreamingChannel/' + id + '/push';
  return conn.requestPost(channelUrl, { pushEvents: events });
}).then(function(rets) {
  return isArray ? rets : rets[0];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.insert" id="apidoc.element.jsforce.sobject.prototype.insert">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>insert
        <span class="apidocSignatureSpan">(records, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insert = function (records, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.create(this.type, records, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.insertBulk" id="apidoc.element.jsforce.sobject.prototype.insertBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>insertBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertBulk = function (input, callback) {
  return this.bulkload("insert", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.layouts" id="apidoc.element.jsforce.sobject.prototype.layouts">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>layouts
        <span class="apidocSignatureSpan">(layoutName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">layouts = function (layoutName, callback) {
  if (typeof layoutName === 'function') {
    callback = layoutName;
    layoutName = null;
  }
  var url = "/sobjects/" + this.type + "/describe/" + (layoutName ? "namedLayouts/"+layoutName : "layouts");
  return this._conn.request(url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

/**
 *
 */
describe("list layout for SObject", function() {
  it("should return Account layout information", function(done) {
    Account.<span class="apidocCodeKeywordSpan">layouts</span>(function(err, res) {
      if (err) { throw err; }
      assert.ok(_.isArray(res.layouts));
      res.layouts.forEach(function(layout) {
        assert.ok(layout.id === null || _.isString(layout.id));
        assert.ok(_.isObject(layout.buttonLayoutSection));
        assert.ok(_.isArray(layout.detailLayoutSections));
        assert.ok(_.isArray(layout.editLayoutSections));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.listview" id="apidoc.element.jsforce.sobject.prototype.listview">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>listview
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listview = function (id) {
  return new ListView(this._conn, this.type, id);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

/**
 *
 */
describe("describe list view", function() {
  it("should return described list view info for given list view id", function(done) {
    Account.<span class="apidocCodeKeywordSpan">listview</span>(listviewId).describe(function(err, result) {
      if (err) { throw err; }
      assert.ok(_.isObject(result));
      assert.ok(_.isString(result.id));
      assert.ok(_.isString(result.sobjectType));
      assert.ok(_.isString(result.query) || result.query === null);
      assert.ok(_.isArray(result.columns));
      assert.ok(_.isArray(result.orderBy));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.listviews" id="apidoc.element.jsforce.sobject.prototype.listviews">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>listviews
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listviews = function (callback) {
  var url = this._conn._baseUrl() + '/sobjects/' + this.type + '/listviews';
  return this._conn.request(url, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var listviewId;

/**
 *
 */
describe("listup list views", function() {
  it("should return list views definitions on the sobject", function(done) {
    Account.<span class="apidocCodeKeywordSpan">listviews</span>(function(err, result) {
      if (err) { throw err; }
      assert.ok(_.isObject(result));
      assert.ok(_.isArray(result.listviews));
      for (var i=0, len=result.listviews.length; i&lt;len; i++) {
        var listview = result.listviews[i];
        assert.ok(_.isString(listview.id));
        assert.ok(_.isString(listview.label));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.quickAction" id="apidoc.element.jsforce.sobject.prototype.quickAction">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>quickAction
        <span class="apidocSignatureSpan">(actionName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">quickAction = function (actionName) {
  return new QuickAction(this._conn, "/sobjects/" + this.type + "/quickActions/" + actionName);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var action;
/**
 *
 */
describe("get a global action", function() {
  it("should return a global quick action reference", function() {
    action = conn.<span class="apidocCodeKeywordSpan">quickAction</span>('LogACall');
    assert.ok(action instanceof QuickAction);
  });
});

/**
 *
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.quickActions" id="apidoc.element.jsforce.sobject.prototype.quickActions">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>quickActions
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">quickActions = function (callback) {
  return this._conn.request("/sobjects/" + this.type + "/quickActions").thenCall(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


/**
 *
 */
describe("list global actions", function() {
  it("should return global actions", function(done) {
    conn.<span class="apidocCodeKeywordSpan">quickActions</span>(function(err, results) {
      if (err) { throw err; }
      assert.ok(_.isArray(results));
      results.forEach(function(res) {
        assert.ok(_.isString(res.type));
        assert.ok(_.isString(res.name));
        assert.ok(_.isString(res.label));
        assert.ok(_.isObject(res.urls));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.recent" id="apidoc.element.jsforce.sobject.prototype.recent">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>recent
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">recent = function (callback) {
  return this._conn.recent(this.type, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Retrieve recently accessed records
*
* @param {Callback.&lt;Array.&lt;RecordResult&gt;&gt;} [callback] - Callback function
* @returns {Promise.&lt;Array.&lt;RecordResult&gt;&gt;}
*/
SObject.prototype.recent = function (callback) {
 return this._conn.<span class="apidocCodeKeywordSpan">recent</span>(this.type, callback);
};

/**
* Retrieve the updated records
*
* @param {String|Date} start - start date or string representing the start of the interval
* @param {String|Date} end - start date or string representing the end of the interval, must be &gt; start
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.record" id="apidoc.element.jsforce.sobject.prototype.record">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>record
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">record = function (id) {
  return new Record(this._conn, this.type, id);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });

  /**
   *
   */
  describe("update account", function() {
it("should update successfully", function(done) {
  conn.sobject('Account').<span class="apidocCodeKeywordSpan">record</span>(account.Id).update({ Name : "Hello2&amp;#
x22; }, function(err, ret) {
    if (err) { throw err; }
    assert.ok(ret.success);
  }.check(done));
});

describe("then retrieve the account", function() {
  it("should return updated account object", function(done) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.retrieve" id="apidoc.element.jsforce.sobject.prototype.retrieve">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>retrieve
        <span class="apidocSignatureSpan">(ids, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retrieve = function (ids, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.retrieve(this.type, ids, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
self.check(function(err, res) {
  if (err) {
    self.emit('error', err);
  } else {
    if (res.state === "Failed") {
      if (parseInt(res.numberRecordsProcessed, 10) &gt; 0) {
        self.<span class="apidocCodeKeywordSpan">retrieve</span>();
      } else {
        self.emit('error', new Error(res.stateMessage));
      }
    } else if (res.state === "Completed") {
      self.retrieve();
    } else {
      self.emit('progress', res);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.select" id="apidoc.element.jsforce.sobject.prototype.select">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>select
        <span class="apidocSignatureSpan">(fields, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function (fields, callback) {
  return this.find(null, fields, null, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._conn = conn;
if (_.isString(config)) { // if query config is string, it is given in SOQL.
  this._soql = config;
} else if (config.locator &amp;&amp; config.locator.indexOf("/") &gt;= 0) { // if locator given in url for next records
  this._locator = config.locator.split("/").pop();
} else {
  this._config = config;
  this.<span class="apidocCodeKeywordSpan">select</span>(config.fields);
  if (config.includes) {
    this.include(config.includes);
  }
}
this._options = _.defaults({
  maxFetch: 10000,
  autoFetch: false,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.update" id="apidoc.element.jsforce.sobject.prototype.update">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>update
        <span class="apidocSignatureSpan">(records, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (records, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.update(this.type, records, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
RecordReference.prototype.update = function(record, options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 record = _.clone(record);
 record.Id = this.id;
 return this._conn.<span class="apidocCodeKeywordSpan">update</span>(this.type, record, options, callback);
};

/**
* Synonym of Record#destroy()
*
* @method RecordReference#delete
* @param {Object} [options] - Options for rest api.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.updateBulk" id="apidoc.element.jsforce.sobject.prototype.updateBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>updateBulk
        <span class="apidocSignatureSpan">(input, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateBulk = function (input, callback) {
  return this.bulkload("update", input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  type = null;
}
type = type || (this._config &amp;&amp; this._config.table);
if (!type) {
  throw new Error("SOQL based query needs SObject type information to bulk update.");
}
var updateStream = _.isFunction(mapping) ? RecordStream.map(mapping) : RecordStream.recordMapStream(mapping);
var batch = this._conn.sobject(type).<span class="apidocCodeKeywordSpan">updateBulk</span>();
var deferred = Promise.defer();
var handleError = function(err) {
  if (err.name === 'ClientInputError') { deferred.resolve([]); } // if batch input receives no records
  else { deferred.reject(err); }
};
this.on('error', handleError)
  .pipe(updateStream)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.updated" id="apidoc.element.jsforce.sobject.prototype.updated">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>updated
        <span class="apidocSignatureSpan">(start, end, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updated = function (start, end, callback) {
  return this._conn.updated(this.type, start, end, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param {String|Date} start - start date or string representing the start of the interval
* @param {String|Date} end - start date or string representing the end of the interval, must be &gt; start
* @param {Callback.&lt;UpdatedRecordsInfo&gt;} [callback] - Callback function
* @returns {Promise.&lt;UpdatedRecordsInfo&gt;}
*/
SObject.prototype.updated = function (start, end, callback) {
 return this._conn.<span class="apidocCodeKeywordSpan">updated</span>(this.type, start, end, callback);
};

/**
* Retrieve the deleted records
*
* @param {String|Date} start - start date or string representing the start of the interval
* @param {String|Date} end - start date or string representing the end of the interval, must be &gt; start
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.upsert" id="apidoc.element.jsforce.sobject.prototype.upsert">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>upsert
        <span class="apidocSignatureSpan">(records, extIdField, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsert = function (records, extIdField, options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }
  return this._conn.upsert(this.type, records, extIdField, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @returns {Promise.&lt;RecordResult|Array.&lt;RecordResult&gt;&gt;}
*/
SObject.prototype.upsert = function(records, extIdField, options, callback) {
 if (typeof options === 'function') {
   callback = options;
   options = {};
 }
 return this._conn.<span class="apidocCodeKeywordSpan">upsert</span>(this.type, records, extIdField, options, callback);
};

/**
* Synonym of SObject#destroy()
*
* @method SObject#delete
* @param {String|Array.&lt;String&gt;} ids - A ID or array of IDs to delete
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsforce.sobject.prototype.upsertBulk" id="apidoc.element.jsforce.sobject.prototype.upsertBulk">
        function <span class="apidocSignatureSpan">jsforce.sobject.prototype.</span>upsertBulk
        <span class="apidocSignatureSpan">(input, extIdField, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertBulk = function (input, extIdField, callback) {
  return this.bulkload("upsert", { extIdField: extIdField }, input, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsforce.soql_builder" id="apidoc.module.jsforce.soql_builder">module jsforce.soql_builder</a></h1>


    <h2>
        <a href="#apidoc.element.jsforce.soql_builder.createSOQL" id="apidoc.element.jsforce.soql_builder.createSOQL">
        function <span class="apidocSignatureSpan">jsforce.soql_builder.</span>createSOQL
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createSOQL(query) {
  var soql = [
    "SELECT ",
    createFieldsClause(query.fields, query.includes),
    " FROM ",
    query.table
  ].join("");
  var cond = createConditionClause(query.conditions);
  if (cond) {
    soql += " WHERE " + cond;
  }
  var orderby = createOrderByClause(query.sort);
  if (orderby) {
    soql += " ORDER BY " + orderby;
  }
  if (query.limit) {
    soql += " LIMIT " + query.limit;
  }
  if (query.offset) {
    soql += " OFFSET " + query.offset;
  }
  return soql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param {Callback.&lt;String&gt;} [callback] - Callback function
* @returns {Promise.&lt;String&gt;}
*/
Query.prototype.toSOQL = function(callback) {
 var self = this;
 return Promise.resolve(self._soql ||
   self._expandFields().then(function() { return SOQLBuilder.<span class="apidocCodeKeywordSpan">createSOQL</span>(self._config); })
 ).thenCall(callback);
};

/**
* Create data stream of queried records.
* Automatically resume query if paused.
*
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>